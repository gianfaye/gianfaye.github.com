{"version":3,"sources":["webpack:///../@gianfaye/gatsby-theme/src/components/Progress/Progress.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/article/Article.Aside.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/article/Article.Topics.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/article/Article.Categories.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/article/Article.Hero.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/article/Article.Controls.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/article/Article.Next.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/article/Article.SEO.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/article/Article.Share.tsx","webpack:///../@gianfaye/gatsby-theme/src/templates/article.template.tsx"],"names":["Progress","contentHeight","useState","progress","setProgress","useEffect","handleScroll","throttle","percentComplete","window","scrollY","clamp","toFixed","addEventListener","removeEventListener","ProgressContainer","tabIndex","Trackline","aria-hidden","ProgressLine","style","transform","p","theme","colors","inputBackground","track","Aside","children","progressRef","useRef","imageOffset","setImageOffset","shouldFixAside","setShouldFixAside","show","childrenWithProps","React","Children","map","child","cloneElement","imageOffsetFromTopOfWindow","document","getElementById","getBoundingClientRect","top","el","current","height","offsetHeight","windowHeight","innerHeight","documentElement","clientHeight","heroTagline","classList","remove","add","AsideContainer","Align","id","ref","mediaqueries","desktop_medium","memo","CoTopics","topics","isOpen","setIsOpen","colorMode","useColorMode","names","topic","name","join","generateTopicNames","fill","CoTopicsContainer","onClick","CoTopicsList","NameContainer","IconContainer","ToggleOpen","onOutsideClick","CoTopicsListOpen","IconOpenContainer","ToggleClose","CoTopicsListItemOpen","key","TopicLink","as","topicsPage","Link","to","slug","CoTopicAvatarOpen","RoundedImage","src","avatar","small","TopicNameOpen","ArticleTopics","length","grey","phablet","Image","colorModeTransition","primary","card","background","fonts","sansSerif","desktop","secondary","ArticleCategories","categories","ArticleCategoryContainer","ArticleCategory","lightGrey","ArticleHero","article","hasMultipleTopics","hasHeroImage","hero","Object","keys","full","constructor","Hero","Header","HeroCrumbs","HeroCrumb","HeroCrumbSeparator","className","title","HeroHeading","HeroExcerpt","excerpt","HeroSubtitle","ArticleMeta","date","timeToRead","HeroImage","HeroTaglineContainer","HeroTagline","HeroTaglineText","tablet","Headings","h5","h1","serif","h4","ShareDarkModeOffIcon","width","viewBox","xmlns","fillRule","clipRule","d","ShareDarkModeOnIcon","DarkModeToggle","setColorMode","isDark","IconWrapper","event","preventDefault","aria-label","MoonOrSun","MoonMask","SharePageButton","hasCopied","setHasCopied","Icon","copyToClipboard","location","href","setTimeout","data-a11y","ToolTip","ArticleControls","NavControls","ArticlesNext","articles","numberOfArticles","Grid","narrow","GridItem","hasOverflow","imageSource","regular","ArticleLink","Item","ImageContainer","ArticleContent","ArticleTaxonomy","Title","dark","MetaData","limitToTwoLines","css","h2","gridLayout","accent","ArticleSEO","imagelocation","siteUrl","useStaticQuery","allSite","edges","node","siteMetadata","topicsName","topicsSlug","topicsBio","bio","seo","includes","SEO","topicName","canonicalUrl","canonical_url","dateforSEO","dateForSEO","description","image","isBlogPost","articlepathName","pathname","published","isSecret","secret","ArticleShare","text","setText","focus","setFocus","canTweet","setCanTweet","x","y","setPosition","share","shareText","url","twitter","linkedin","generateShare","events","handleMenuFloatSettings","getElementsByTagName","paragraphOffset","offsetLeft","Array","from","getElementsByClassName","some","block","getSelection","containsNode","articleBox","getSelectionDimensions","getHighlightedTextPositioning","windowWidth","getWindowDimensions","paddingOffset","getBreakpointFromTheme","offset","MENU_WIDTH","getSelectionText","forEach","MenuFloat","position","left","display","pointerEvents","MenuText","ReferralLink","disabled","Twitter","LinkedIn","MenuDivider","MenuButton","tempInput","createElement","body","appendChild","setAttribute","select","execCommand","removeChild","Copy","MenuShare","open","Hidden","popUpwards","keyframes","MobileControls","Article","pageContext","contentSectionRef","hasCalculated","setHasCalculated","setContentHeight","next","mailchimp","disqusConfig","identifier","calculateBodySize","contentSection","debouncedCalculation","debounce","querySelectorAll","$img","complete","onload","Layout","ArticleBody","MDX","content","CommentsContainer","config","placeholder","NextArticle","FooterNext","FooterSpacer","tablet_up","Section"],"mappings":"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","file":"component---gianfaye-gatsby-theme-src-templates-article-template-tsx-ee2b07a4a5f2bffc98c7.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport throttle from \"lodash/throttle\";\n\nimport { clamp } from \"@utils\";\n\nexport interface IProgress {\n  contentHeight: number;\n}\n\nconst Progress: React.FC<IProgress> = ({ contentHeight }) => {\n  const [progress, setProgress] = useState<number>(0);\n\n  useEffect(() => {\n    const handleScroll = throttle(() => {\n      const percentComplete = ((window.scrollY / contentHeight) * 100);\n      // console.log('contentHeight', contentHeight);\n      // console.log('window.scrollY', window.scrollY);\n      // console.log('percentComplete', percentComplete);\n      setProgress(clamp(+percentComplete.toFixed(2), -2, 105));\n    }, 20);\n\n    if (contentHeight) {\n      window.addEventListener(\"scroll\", handleScroll);\n      window.addEventListener(\"resize\", handleScroll);\n      return () => {\n        window.removeEventListener(\"scroll\", handleScroll);\n        window.removeEventListener(\"resize\", handleScroll);\n      };\n    }\n  }, [contentHeight]);\n\n  return (\n    <ProgressContainer tabIndex={-1}>\n      <Trackline aria-hidden=\"true\">\n        <ProgressLine style={{ transform: `translateX(${progress - 8}%)` }} />\n      </Trackline>\n    </ProgressContainer>\n  );\n};\n\nexport default Progress;\n\nconst ProgressContainer = styled.div`\n  position: relative;\n  outline: none;\n  user-select: none;\n`;\n\nconst Trackline = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  // height: calc(88vh - 40px);\n  // max-height: 425px;\n  // width: calc(88vw - 40px);\n  // max-width: 425px;\n  width: 108vw;\n  left: 0;\n  height: 1px;\n  background-color: ${p => p.theme.colors.inputBackground};\n  //background-color: ${p => p.theme.colors.progress};\n  //opacity: 0.6;\n  overflow: hidden;\n`;\n\nconst ProgressLine = styled.div`\n  position: absolute;\n  width: 100%;\n  //top: -100%;\n  top: 0;\n  height: 1px;\n  background-color: ${p => p.theme.colors.track};\n  //background-color: ${p => p.theme.colors.lightGrey};\n  left: 0;\n`;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport styled from \"@emotion/styled\";\nimport throttle from \"lodash/throttle\";\n\nimport HandleOverlap from \"./Article.HandleOverlap\";\n\nimport mediaqueries from \"@styles/media\";\nimport { clamp } from \"@utils\";\n\ninterface AsideProps {\n  contentHeight: number;\n}\n\n/**\n * Aside: the wonderful fixed positioned elements that are to the left\n * and the right of the written content on our articles. For example, the\n * progress bar and dark controls are within an Aside. The main responsibility\n * of this component is to show or hide its children if it's at the top or bottom\n * of the page!\n *\n * The left and right Asides!\n *\n * left Aside ----> |  content  | <--- right Aside\n *                  |  content  |\n *                  |  content  |\n *                  |  content  |\n *\n */\nconst Aside: React.FC<AsideProps> = ({ contentHeight, children }) => {\n  const progressRef = useRef<HTMLDivElement>(null);\n\n  const [progress, setProgress] = useState<number>(0);\n  const [imageOffset, setImageOffset] = useState<number>(0);\n  const [shouldFixAside, setShouldFixAside] = useState<boolean>(false);\n\n  const show = imageOffset && progress < 100;\n  const childrenWithProps = React.Children.map(children, child =>\n    React.cloneElement(child, { show }),\n  );\n\n  useEffect(() => {\n    const imageRect = document\n      .getElementById(\"ArticleImage__Hero\")\n      .getBoundingClientRect();\n\n    const imageOffsetFromTopOfWindow = (imageRect.top - 80) + window.scrollY;\n    setImageOffset(imageOffsetFromTopOfWindow);\n\n    const handleScroll = throttle(() => {\n      const el = progressRef.current;\n      const top = el.getBoundingClientRect().top;\n      const height = el.offsetHeight;\n      const windowHeight =\n        window.innerHeight || document.documentElement.clientHeight;\n\n      const percentComplete = (window.scrollY / contentHeight) * 100;\n\n      let heroTagline = document.getElementById(\"heroTagline\");\n\n      setProgress(clamp(+percentComplete.toFixed(2), 0, 105));\n\n      if (top + window.scrollY < imageOffsetFromTopOfWindow) {\n        if(heroTagline){\n          heroTagline.classList.remove(\"show\");\n        }\n        return setShouldFixAside(false);\n      }\n\n      if (top + height / 2 <= windowHeight / 2) {\n        let alignProgress = document.getElementById(\"alignProgress\");\n        alignProgress.classList.remove(\"hide\");\n        if(heroTagline){\n          heroTagline.classList.add(\"show\");\n        }\n        return setShouldFixAside(true);\n      }\n    }, 20);\n\n    window.addEventListener(\"scroll\", handleScroll);\n    window.addEventListener(\"resize\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      window.removeEventListener(\"resize\", handleScroll);\n    };\n  }, [contentHeight]);\n\n  return (\n    <AsideContainer>\n      <Align\n        id=\"alignProgress\"\n        show={show}\n        imageOffset={imageOffset}\n        shouldFixAside={shouldFixAside}\n      >\n        <div ref={progressRef}>\n          {childrenWithProps}\n        </div>\n      </Align>\n    </AsideContainer>\n  );\n};\n\nexport default Aside;\n\nconst AsideContainer = styled.aside`\n  display: flex;\n  margin: 0 auto;\n  //max-width: 1140px;\n\n  ${mediaqueries.desktop_medium`\n    display: none;\n  `}\n\n`;\n\nconst Align = React.memo(styled.div<{\n  show: boolean;\n  shouldFixAside: boolean;\n  imageOffset: number;\n}>`\n  //position: ${p => (p.shouldFixAside ? \"fixed\" : \"absolute\")};\n  position: fixed;\n  display: ${p => (p.shouldFixAside ? \"flex\" : \"none\")};\n  transform: translateX(0px);\n  //top: ${p => (p.shouldFixAside ? 0 : p.imageOffset)}px;\n  top: 78px;\n  left: 0;\n  align-items: ${p => (p.shouldFixAside ? \"center\" : \"flex-start\")};\n  //height: 100vh;\n  height: 5px;\n  width: 100vw;\n  z-index: 1000;\n\n  opacity: ${p => (p.show ? 1 : 0)};\n  visibility: ${p => (p.show ? \"visible\" : \"hidden\")};\n  transition: ${p =>\n    p.show\n      ? \"opacity 0.2s linear, visibility 0.4s linear\"\n      : \"opacity 0.2s linear, visibility 0.4s linear\"};\n\n  &.hide{\n    opacity: 0;\n  }\n\n  .Logo__Side {\n    position: absolute;\n    left: -27px;\n    visibility: visible;\n    height: calc(88vh - 40px);\n    max-height: 425px;\n    bottom: 0;\n\n    opacity: ${p => (p.shouldFixAside ? 1 : 0)};\n    visibility: ${p => (p.shouldFixAside ? \"visible\" : \"hidden\")};\n    transition: ${p =>\n    p.shouldFixAside\n      ? \"opacity 0.4s linear, visibility 0.4s linear\"\n      : \"opacity 0.2s linear, visibility 0.4s linear\"};\n  }\n`);\n","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport OutsideClickHandler from \"react-outside-click-handler\";\nimport { useColorMode } from \"theme-ui\";\nimport { Link } from \"gatsby\";\n\nimport Image from \"@components/Image\";\nimport Icons from \"@icons\";\nimport mediaqueries from \"@styles/media\";\nimport { ITopic } from \"@types\";\n\n/**\n * When generating the topic names we're also checking to see how long the\n * number of topics are. If it's only 2 topics we'll show the fullnames.\n * Otherwise it'll only preview the first names of each topic.\n */\nfunction generateTopicNames(topics: ITopic[]) {\n  return topics\n    .map(topic => {\n      // if (topics.length > 2) {\n      //   return topic.name.split(\" \")[0];\n      // } else {\n      //   return topic.name;\n      // }\n      return topic.name;\n    })\n    .join(\", \");\n}\n\ninterface TopicsProps {\n  topics: ITopic[]\n}\n\nconst CoTopics: React.FC<TopicsProps> = ({ topics }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [colorMode] = useColorMode();\n  const names = generateTopicNames(topics);\n\n  const fill = colorMode === \"dark\" ? \"#fff\" : \"#000\";\n  // const listWidth = { width: `${10 + topics.length * 15}px` };\n\n  return (\n    <CoTopicsContainer onClick={() => setIsOpen(!isOpen)} isOpen={isOpen}>\n      <CoTopicsList /*style={listWidth}*/>\n        {/*{topics.map((topic, index) => (*/}\n        {/*  <CoTopicAvatar style={{ left: `${index * 15}px` }} key={topic.name}>*/}\n        {/*    <RoundedImage src={topic.avatar.small} />*/}\n        {/*  </CoTopicAvatar>*/}\n        {/*))}*/}\n      </CoTopicsList>\n      <NameContainer>{names}</NameContainer>\n      <IconContainer>\n        <Icons.ToggleOpen fill={fill} />\n      </IconContainer>\n\n      {isOpen && (\n        <OutsideClickHandler onOutsideClick={() => setIsOpen(!isOpen)}>\n          <CoTopicsListOpen>\n            <IconOpenContainer>\n              <Icons.ToggleClose fill={fill} />\n            </IconOpenContainer>\n            {topics.map(topic => (\n              <CoTopicsListItemOpen key={topic.name}>\n                <TopicLink\n                  as={topic.topicsPage ? Link : \"div\"}\n                  to={topic.slug}\n                >\n                  <CoTopicAvatarOpen>\n                    <RoundedImage src={topic.avatar.small} />\n                  </CoTopicAvatarOpen>\n                  <TopicNameOpen>{topic.name}</TopicNameOpen>\n                </TopicLink>\n              </CoTopicsListItemOpen>\n            ))}\n          </CoTopicsListOpen>\n        </OutsideClickHandler>\n      )}\n    </CoTopicsContainer>\n  );\n};\n\n/**\n * Novela supports multiple topics and therefore we need to ensure\n * we render the right UI when there are varying amount of topics.\n */\nconst ArticleTopics: React.FC<TopicsProps> = ({ topics }) => {\n  const hasCoTopics = topics.length > 1;\n\n  // Special dropdown UI for multiple topics\n  if (hasCoTopics) {\n    return <CoTopics topics={topics} />;\n  } else {\n    return (\n      <TopicLink\n        as={topics[0].topicsPage ? Link : \"div\"}\n        to={topics[0].slug}\n      >\n        {/*<TopicAvatar>*/}\n        {/*  <RoundedImage src={topics[0].avatar.small} />*/}\n        {/*</TopicAvatar>*/}\n        <NameContainer>{topics[0].name}</NameContainer>\n        {/*<HideOnMobile>,&nbsp;</HideOnMobile>*/}\n      </TopicLink>\n    );\n  }\n};\n\nexport default ArticleTopics;\n\nconst TopicAvatar = styled.div`\n  height: 25px;\n  width: 25px;\n  border-radius: 50%;\n  margin-right: 14px;\n  background: ${p => p.theme.colors.grey};\n  overflow: hidden;\n\n  .gatsby-image-wrapper > div {\n    padding-bottom: 100% !important;\n  }\n\n  ${mediaqueries.phablet`\n    display: none;\n  `}\n`;\n\nconst RoundedImage = styled(Image)`\n  border-radius: 50%;\n`;\n\nconst TopicLink = styled.div`\n  display: flex;\n  align-items: center;\n  color: inherit;\n  margin-left: 10px;\n  letter-spacing: 1px;\n\n  strong {\n    transition: ${p => p.theme.colorModeTransition};\n  }\n\n  &:hover strong {\n    color: ${p => p.theme.colors.primary};\n  }\n`;\n\nconst CoTopicsList = styled.div`\n  position: relative;\n  height: 25px;\n  //margin-right: 15px;\n\n  ${mediaqueries.phablet`\n    display: none;\n  `}\n`;\n\nconst CoTopicsListOpen = styled.ul`\n  position: absolute;\n  z-index: 2;\n  left: -21px;\n  right: -21px;\n  top: -19px;\n  padding: 21px;\n  background: ${p => p.theme.colors.card};\n  box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  cursor: pointer;\n  list-style: none;\n  transform: translateY(-2px);\n`;\n\nconst CoTopicsListItemOpen = styled.li`\n  a {\n    width: 100%;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n`;\n\nconst CoTopicAvatarOpen = styled.div`\n  height: 25px;\n  width: 25px;\n  border-radius: 50%;\n  margin-right: 15px;\n  background: ${p => p.theme.colors.grey};\n  overflow: hidden;\n  pointer-events: none;\n\n  .gatsby-image-wrapper > div {\n    padding-bottom: 100% !important;\n    overflow: hidden;\n  }\n`;\n\nconst CoTopicAvatar = styled.div`\n  position: absolute;\n  height: 25px;\n  width: 25px;\n  border-radius: 50%;\n  z-index: 1;\n  background: ${p => p.theme.colors.grey};\n  box-shadow: 0 0 0 2px ${p => p.theme.colors.background};\n  transition: box-shadow 0.25s ease;\n  overflow: hidden;\n  pointer-events: none;\n\n  .gatsby-image-wrapper > div {\n    padding-bottom: 100% !important;\n    overflow: hidden;\n  }\n\n  ${mediaqueries.phablet`\n    display: none;\n  `}\n`;\n\nconst NameContainer = styled.strong`\n  position: relative;\n  //max-width: 260px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  cursor: pointer;\n  font-family: ${p => p.theme.fonts.sansSerif};\n  color: ${p => p.theme.colors.primary};\n  text-transform: uppercase;\n  font-size: 12px;\n  letter-spacing: 2px;\n  padding-left: 1px;\n\n  ${mediaqueries.desktop`\n    max-width: 170px;\n  `}\n\n  ${mediaqueries.phablet`\n    max-width: 200px;\n  `}\n`;\n\nconst TopicNameOpen = styled.strong`\n  position: relative;\n  cursor: pointer;\n  color: ${p => p.theme.colors.secondary};\n  font-weight: 600;\n`;\n\nconst IconContainer = styled.div`\n  position: relative;\n  cursor: pointer;\n  margin-left: 10px;\n\n  ${mediaqueries.phablet`\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    top: 10px;\n    height: 100%;\n  `}\n`;\n\nconst IconOpenContainer = styled.div`\n  position: absolute;\n  cursor: pointer;\n  top: 20px;\n  right: 21px;\n`;\n\nconst CoTopicsContainer = styled.div<{ isOpen: boolean }>`\n  position: relative;\n  display: flex;\n  align-items: center;\n  font-size: 18px;\n  color: ${p => p.theme.colors.grey};\n  letter-spacing: 1px;\n  cursor: pointer;\n  margin-left: 10px;\n\n  &::before {\n    content: \"\";\n    position: absolute;\n    left: -20px;\n    right: -20px;\n    top: -16px;\n    bottom: -16px;\n    background: ${p => p.theme.colors.card};\n    box-shadow: ${p =>\n      p.isOpen ? \"none\" : \" 0px 0px 15px rgba(0, 0, 0, 0.1)\"};\n    border-radius: 5px;\n    z-index: 0;\n    transition: opacity 0.3s;\n    cursor: pointer;\n    opacity: 0;\n  }\n\n  &:hover::before {\n    opacity: 1;\n  }\n\n  ${mediaqueries.phablet`\n    font-size: 14px;\n    align-items: center;\n\n    &::before {\n      box-shadow: none;\n      bottom: -30px;\n      background: transparent;\n    }\n\n\n    strong {\n      display: block;\n      font-weight: semi-bold;\n      margin-bottom: 5px;\n    }\n  `}\n`;\n\nconst HideOnMobile = styled.span`\n  ${mediaqueries.phablet`\n    display: none;\n  `}\n`;\n","import React from 'react';\nimport styled from \"@emotion/styled\";\n\nexport default function ArticleCategories({ categories }) {\n  // TODO: add style to display category on individual article page\n  return (\n    <ArticleCategoryContainer>\n      <ArticleCategory>\n        {categories}\n      </ArticleCategory>\n    </ArticleCategoryContainer>\n  );\n}\n\nconst ArticleCategoryContainer = styled.div`\n  padding: 10px 0;\n`;\nconst ArticleCategory = styled.span`\n  font-family: ${p => p.theme.fonts.sansSerif};\n  text-transform: uppercase;\n  font-size: 12px;\n  display: block;\n  padding: 4px 0;\n  font-weight: 600;\n  color: ${p => p.theme.colors.lightGrey};\n  letter-spacing: 2px;\n`;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { Link } from \"gatsby\";\n\nimport Headings from '@components/Headings';\nimport Image, { ImagePlaceholder } from '@components/Image';\n\nimport mediaqueries from '@styles/media';\nimport { IArticle, ITopic } from '@types';\n\nimport ArticleTopics from './Article.Topics';\nimport ArticleCategories from './Article.Categories';\n\ninterface ArticleHeroProps {\n  article: IArticle;\n  topics: ITopic[];\n}\n\nconst ArticleHero = ({ article, topics, categories }: ArticleHeroProps) => {\n  const hasMultipleTopics = topics.length > 1;\n  const hasHeroImage =\n    article.hero &&\n    Object.keys(article.hero.full).length !== 0 &&\n    article.hero.full.constructor === Object;\n\n  return (\n    <Hero>\n      <Header>\n        <HeroCrumbs>\n          <HeroCrumb as={Link} to={'/'}>\n            HOME\n          </HeroCrumb>\n          <HeroCrumbSeparator>&gt;</HeroCrumbSeparator>\n          <HeroCrumb as={Link} to={'/blog'}>\n            BLOG\n          </HeroCrumb>\n          <HeroCrumbSeparator>&gt;</HeroCrumbSeparator>\n          <HeroCrumb className=\"active\">\n            {article.title}\n          </HeroCrumb>\n        </HeroCrumbs>\n        <HeroHeading>{article.title}</HeroHeading>\n        <HeroExcerpt>{article.excerpt}</HeroExcerpt>\n        <HeroSubtitle hasMultipleTopics={hasMultipleTopics}>\n          <ArticleCategories categories={categories} />\n          <ArticleTopics topics={topics} />\n          <ArticleMeta hasMultipleTopics={hasMultipleTopics}>\n            {article.date} Â· {article.timeToRead} min read\n          </ArticleMeta>\n        </HeroSubtitle>\n      </Header>\n      <HeroImage id=\"ArticleImage__Hero\">\n        {hasHeroImage ? (\n          <Image src={article.hero.full} />\n        ) : (\n          <ImagePlaceholder />\n        )}\n        <HeroTaglineContainer>\n          <HeroTagline id=\"heroTagline\">\n            <HeroTaglineText>\n              {article.title}\n            </HeroTaglineText>\n          </HeroTagline>\n        </HeroTaglineContainer>\n      </HeroImage>\n    </Hero>\n  );\n};\n\nexport default ArticleHero;\n\nconst Hero = styled.div`\n  ${p => mediaqueries.phablet`\n    &::before {\n      content: \"\";\n      width: 100%;\n      height: 20px;\n      background: ${p.theme.colors.primary};\n      position: absolute;\n      left: 0;\n      top: 0;\n      transition: ${p.theme.colorModeTransition};\n    }\n\n    &::after {\n      content: \"\";\n      width: 100%;\n      height: 10px;\n      background: ${p.theme.colors.background};\n      position: absolute;\n      left: 0;\n      top: 10px;\n      border-top-left-radius: 25px;\n      border-top-right-radius: 25px;\n      transition: ${p.theme.colorModeTransition};\n    }\n  `}\n`;\n\nconst HeroTaglineContainer = styled.div`\n  ${mediaqueries.phablet`\n    display: none;\n  `}\n`;\n\nconst HeroTagline = styled.div`\n  height: 60px;\n  width: 43.75vw;\n  max-width: 700px;\n  text-align: right;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  //position: absolute;\n  position: fixed;\n  bottom: 100%;\n  right: 0;\n  transform-origin: right bottom;\n  transform: rotate(-90deg);\n  width: 52.812vw;\n  max-width: 845px;\n  bottom: auto;\n  //top: calc(100% + -15px);\n  top: 50px;\n  z-index: 10;\n  opacity: 0;\n\n  &.show{\n    opacity: 1;\n  }\n\n  ${mediaqueries.tablet`\n    width: 40vw;\n  `};\n`;\n\nconst HeroTaglineText = styled.span`\n  font-family: ${p => p.theme.fonts.sansSerif};\n  color: ${p => p.theme.colors.primary};\n  text-transform: uppercase;\n  font-size: 10px;\n  font-weight: 600;\n  letter-spacing: .2em;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: block;\n  padding-right: 60px;\n\n  &::after{\n    background-color: ${p => p.theme.colors.primary};\n    content: '';\n    display: inline-block;\n    height: 1px;\n    width: 40px;\n    margin-left: 20px;\n    position: absolute;\n    right: 0;\n    top: 29px;\n  }\n`;\n\nconst ArticleMeta = styled.div<{ hasMultipleTopics: boolean }>`\n  margin-left: ${p => (p.hasMultipleTopics ? '10px' : '0')};\n  padding: 10px 5px;\n  width: 100%;\n  text-align: right;\n  font-size: 16px;\n  line-height: 1.54;\n  font-style: italic;\n\n  ${mediaqueries.phablet`\n    margin-left: 0;\n  `}\n`;\n\nconst Header = styled.header`\n  position: relative;\n  z-index: 10;\n  // margin: 40px auto 120px;\n  //margin: 40px auto;\n  margin: 60px auto 40px auto;\n  padding-left: 28px;\n  max-width: 1200px;\n\n  ${mediaqueries.desktop`\n    padding-left: 0;\n    max-width: calc(507px + 53px);\n    margin: 60px auto 70px;\n  `}\n\n  ${mediaqueries.tablet`\n    padding-left: 0;\n    margin: 60px auto 70px;\n    max-width: 480px;\n  `}\n\n  ${mediaqueries.phablet`\n    padding-left: 0;\n    margin: 60px 40px;\n  `}\n\n`;\n\nconst HeroCrumbs = styled.div`\n  display: inline;\n  text-decoration: none;\n  padding-bottom: 3px;\n\n  ${mediaqueries.tablet`\n    display: none;\n  `}\n\n  ${mediaqueries.phablet`\n  `}\n`;\n\nconst HeroCrumbSeparator = styled.span`\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.32;\n  display: inline;\n  text-decoration: none;\n  padding: 0 10px;\n  color: ${p => p.theme.colors.lightGrey};\n`;\n\nconst HeroCrumb = styled(Headings.h5)`\n  font-size: 12px;\n  text-transform: uppercase;\n  font-family: ${p => p.theme.fonts.sansSerif};\n  font-weight: 600;\n  line-height: 1.32;\n  letter-spacing: 2px;\n  display: inline;\n  text-decoration: none;\n  //border-bottom: 2px solid;\n  padding-bottom: 3px;\n  color: ${p => p.theme.colors.primary};\n\n  &.active{\n    border-bottom: none;\n    cursor: default;\n    pointer-events: none;\n  }\n\n  &:hover{\n    border-bottom: 2px solid;\n  }\n\n  ${mediaqueries.tablet`\n    margin-bottom: 20px;\n    font-size: 36px;\n  `}\n\n  ${mediaqueries.phablet`\n    font-size: 32px;\n  `}\n`;\n\nconst HeroHeading = styled(Headings.h1)`\n  font-size: 80px;\n  font-family: ${p => p.theme.fonts.serif};\n  margin-bottom: 25px;\n  font-weight: 400;line-height: 1;\n  margin: 45px 0;\n  margin-bottom: 15px;\n\n  ${mediaqueries.tablet`\n    margin-bottom: 20px;\n    font-size: 36px;\n  `}\n\n  ${mediaqueries.phablet`\n    font-size: 32px;\n  `}\n`;\n\nconst HeroExcerpt = styled(Headings.h4)`\n  font-size: 26px;\n  font-family: \"Sentinel Italic\";\n  font-style: italic;\n  font-weight: 400;\n  margin-bottom: 20px;\n  max-width: 900px;\n\n  ${mediaqueries.tablet`\n    margin-bottom: 20px;\n    font-size: 24px;\n  `}\n\n  ${mediaqueries.phablet`\n    font-size: 20px;\n  `}\n`;\n\nconst HeroSubtitle = styled.div<{ hasMultipleTopics: boolean }>`\n  position: relative;\n  display: flex;\n  font-size: 18px;\n  color: ${p => p.theme.colors.grey};\n  // padding: 0px 0 30px;\n  // border-bottom: 5px solid ${p => p.theme.colors.primary};\n\n  ${p => mediaqueries.phablet`\n    font-size: 14px;\n    flex-direction: column;\n\n    strong {\n      display: block;\n      font-weight: 500;\n      margin-bottom: 5px;\n    }\n  `}\n`;\n\nconst HeroImage = styled.div`\n  position: relative;\n  z-index: 1;\n  width: 100%;\n  // max-width: 944px;\n  // overflow: hidden;\n  margin: 0 auto;\n  // box-shadow: 0 30px 60px -10px rgba(0, 0, 0, 0.2),\n  //   0 18px 36px -18px rgba(0, 0, 0, 0.22);\n\n  img {\n    z-index: 50;\n  }\n\n  ${mediaqueries.tablet`\n    max-width: 100%;\n  `}\n\n  ${mediaqueries.phablet`\n    margin: 0 auto;\n    //width: calc(100vw - 40px);\n    height: 220px;\n\n    & > div {\n      height: 220px;\n    }\n`}\n`;\n\n","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { useColorMode } from \"theme-ui\";\n\nimport mediaqueries from \"@styles/media\";\nimport { copyToClipboard } from \"@utils\";\n\nconst ShareDarkModeOffIcon: React.FC<{}> = () => (\n  <svg\n    width=\"24\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M2 5C2 3.34328 3.34328 2 5 2H14C15.6567 2 17 3.34328 17 5V9C17 10.6567 15.6567 12 14 12H10C9.44771 12 9 12.4477 9 13C9 13.5523 9.44771 14 10 14H14C16.7613 14 19 11.7613 19 9V5C19 2.23872 16.7613 0 14 0H5C2.23872 0 0 2.23872 0 5V9C0 10.4938 0.656313 11.8361 1.6935 12.7509C2.10768 13.1163 2.73961 13.0767 3.10494 12.6625C3.47028 12.2483 3.43068 11.6164 3.0165 11.2511C2.39169 10.6999 2 9.89621 2 9V5ZM7 11C7 9.34328 8.34328 8 10 8H14C14.5523 8 15 7.55228 15 7C15 6.44772 14.5523 6 14 6H10C7.23872 6 5 8.23872 5 11V15C5 17.7613 7.23872 20 10 20H19C21.7613 20 24 17.7613 24 15V11C24 9.50621 23.3437 8.16393 22.3065 7.24906C21.8923 6.88372 21.2604 6.92332 20.8951 7.3375C20.5297 7.75168 20.5693 8.38361 20.9835 8.74894C21.6083 9.30007 22 10.1038 22 11V15C22 16.6567 20.6567 18 19 18H10C8.34328 18 7 16.6567 7 15V11Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nconst ShareDarkModeOnIcon: React.FC<{}> = () => (\n  <svg\n    width=\"24\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M2 5C2 3.34328 3.34328 2 5 2H14C15.6567 2 17 3.34328 17 5V9C17 10.6567 15.6567 12 14 12H10C9.44771 12 9 12.4477 9 13C9 13.5523 9.44771 14 10 14H14C16.7613 14 19 11.7613 19 9V5C19 2.23872 16.7613 0 14 0H5C2.23872 0 0 2.23872 0 5V9C0 10.4938 0.656313 11.8361 1.6935 12.7509C2.10768 13.1163 2.73961 13.0767 3.10494 12.6625C3.47028 12.2483 3.43068 11.6164 3.0165 11.2511C2.39169 10.6999 2 9.89621 2 9V5ZM7 11C7 9.34328 8.34328 8 10 8H14C14.5523 8 15 7.55228 15 7C15 6.44772 14.5523 6 14 6H10C7.23872 6 5 8.23872 5 11V15C5 17.7613 7.23872 20 10 20H19C21.7613 20 24 17.7613 24 15V11C24 9.50621 23.3437 8.16393 22.3065 7.24906C21.8923 6.88372 21.2604 6.92332 20.8951 7.3375C20.5297 7.75168 20.5693 8.38361 20.9835 8.74894C21.6083 9.30007 22 10.1038 22 11V15C22 16.6567 20.6567 18 19 18H10C8.34328 18 7 16.6567 7 15V11Z\"\n      fill=\"black\"\n    />\n  </svg>\n);\n\nconst DarkModeToggle: React.FC<{}> = () => {\n  const [colorMode, setColorMode] = useColorMode();\n  const isDark = colorMode === `dark`;\n\n  function toggleColorMode(event) {\n    event.preventDefault();\n    setColorMode(isDark ? `light` : `dark`);\n  }\n\n  return (\n    <IconWrapper\n      onClick={toggleColorMode}\n      aria-label=\"Toggle dark and light mode\"\n    >\n      <MoonOrSun isDark={isDark} />\n      <MoonMask isDark={isDark} />\n    </IconWrapper>\n  );\n};\n\nconst SharePageButton: React.FC<{}> = () => {\n  const [hasCopied, setHasCopied] = useState<boolean>(false);\n  const [colorMode] = useColorMode();\n  const isDark = colorMode === `dark`;\n\n  function copyToClipboardOnClick() {\n    if (hasCopied) return;\n\n    copyToClipboard(window.location.href);\n    setHasCopied(true);\n\n    setTimeout(() => {\n      setHasCopied(false);\n    }, 1000);\n  }\n\n  const Icon = isDark ? ShareDarkModeOffIcon : ShareDarkModeOnIcon;\n\n  return (\n    <IconWrapper\n      onClick={copyToClipboardOnClick}\n      data-a11y=\"false\"\n      aria-label=\"Copy URL to clipboard\"\n    >\n      <Icon />\n      <ToolTip isDark={isDark} hasCopied={hasCopied}>\n        Copied\n      </ToolTip>\n    </IconWrapper>\n  );\n};\n\nconst ArticleControls: React.FC<{}> = () => {\n  return (\n    <NavControls>\n      <SharePageButton />\n      <DarkModeToggle />\n    </NavControls>\n  );\n};\n\nexport default ArticleControls;\n\nconst NavControls = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst ToolTip = styled.div<{ isDark: boolean; hasCopied: boolean }>`\n  position: absolute;\n  padding: 4px 13px;\n  background: ${p => (p.isDark ? \"#000\" : \"rgba(0,0,0,0.1)\")};\n  color: ${p => (p.isDark ? \"#fff\" : \"#000\")};\n  border-radius: 5px;\n  font-size: 14px;\n  top: -35px;\n  opacity: ${p => (p.hasCopied ? 1 : 0)};\n  transform: ${p => (p.hasCopied ? \"translateY(-3px)\" : \"none\")};\n  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -6px;\n    margin: 0 auto;\n    width: 0;\n    height: 0;\n    border-left: 6px solid transparent;\n    border-right: 6px solid transparent;\n    border-top: 6px solid ${p => (p.isDark ? \"#000\" : \"rgba(0,0,0,0.1)\")};\n  }\n`;\n\nconst IconWrapper = styled.button`\n  opacity: 0.5;\n  position: relative;\n  z-index: 200000000;\n  border-radius: 5px;\n  width: 40px;\n  height: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.3s ease;\n  margin-left: 30px;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  ${mediaqueries.tablet`\n    display: inline-flex;\n    transform: scale(0.9);\n    margin: 0 15px;\n\n\n    &:hover {\n      opacity: 0.5;\n    }\n  `}\n`;\n\n// This is based off a codepen! Much appreciated to: https://codepen.io/aaroniker/pen/KGpXZo\nconst MoonOrSun = styled.div<{ isDark: boolean }>`\n  position: relative;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: ${p => (p.isDark ? \"4px\" : \"2px\")} solid\n    ${p => p.theme.colors.primary};\n  background: ${p => p.theme.colors.primary};\n  transform: scale(${p => (p.isDark ? 0.55 : 1)});\n  transition: all 0.45s ease;\n  overflow: ${p => (p.isDark ? \"visible\" : \"hidden\")};\n\n  &::before {\n    content: \"\";\n    position: absolute;\n    right: -9px;\n    top: -9px;\n    height: 24px;\n    width: 24px;\n    border: 2px solid ${p => p.theme.colors.primary};\n    border-radius: 50%;\n    transform: translate(${p => (p.isDark ? \"14px, -14px\" : \"0, 0\")});\n    opacity: ${p => (p.isDark ? 0 : 1)};\n    transition: transform 0.45s ease;\n  }\n\n  &::after {\n    content: \"\";\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    margin: -4px 0 0 -4px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    box-shadow: 0 -23px 0 ${p => p.theme.colors.primary},\n      0 23px 0 ${p => p.theme.colors.primary},\n      23px 0 0 ${p => p.theme.colors.primary},\n      -23px 0 0 ${p => p.theme.colors.primary},\n      15px 15px 0 ${p => p.theme.colors.primary},\n      -15px 15px 0 ${p => p.theme.colors.primary},\n      15px -15px 0 ${p => p.theme.colors.primary},\n      -15px -15px 0 ${p => p.theme.colors.primary};\n    transform: scale(${p => (p.isDark ? 1 : 0)});\n    transition: all 0.35s ease;\n\n    ${p => mediaqueries.tablet`\n      transform: scale(${p.isDark ? 0.92 : 0});\n    `}\n  }\n`;\n\nconst MoonMask = styled.div<{ isDark: boolean }>`\n  position: absolute;\n  right: -1px;\n  top: -8px;\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  border: 0;\n  background: ${p => p.theme.colors.background};\n  transform: translate(${p => (p.isDark ? \"14px, -14px\" : \"0, 0\")});\n  opacity: ${p => (p.isDark ? 0 : 1)};\n  transition: transform 0.45s ease, ${p => p.theme.colorModeTransition};\n`;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { css } from \"@emotion/core\";\nimport { Link } from \"gatsby\";\n\nimport Headings from \"@components/Headings\";\nimport Image from \"@components/Image\";\n\nimport mediaqueries from \"@styles/media\";\n\nimport { IArticle } from \"@types\";\n\ninterface ArticlesNextProps {\n  articles: IArticle[]\n}\n\n/**\n * Sits at the bottom of our Article page. Shows the next 2 on desktop and the\n * next 1 on mobile!\n *\n *  [..............], [.........]\n *  [.....LONG.....], [..SHORT..]\n *  [..............], [.........]\n *\n * This does NOT use Articles.List because there's a special case of only have 1 article\n * as the next one suggested article, which requires special styling we didn't want to\n * mix into the generic list component.\n */\nconst ArticlesNext: React.FC<ArticlesNextProps> = ({ articles }) => {\n  if (!articles) return null;\n  const numberOfArticles = articles.length;\n  //console.log('articles', articles);\n  return (\n    <Grid numberOfArticles={numberOfArticles}>\n      <GridItem article={articles[0]} />\n      <GridItem article={articles[1]} narrow />\n    </Grid>\n  );\n};\n\nexport default ArticlesNext;\n\ninterface GridItemProps {\n  article: IArticle;\n  narrow?: boolean;\n}\n\nconst GridItem: React.FC<GridItemProps> = ({ article, narrow }) => {\n  if (!article) return null;\n\n  const hasOverflow = narrow && article.title.length > 35;\n  const imageSource = narrow ? article.hero.narrow : article.hero.regular;\n\n  return (\n    <ArticleLink\n      to={article.slug}\n      data-a11y=\"false\"\n      narrow={narrow ? \"true\" : \"false\"}\n    >\n      <Item>\n        <ImageContainer>\n          <Image src={imageSource} />\n        </ImageContainer>\n        <ArticleContent>\n          <ArticleTaxonomy>\n            <span className=\"Article__Categories\">{article.categories}</span>\n            <span className=\"Article__Topics\">{article.topic}</span>\n          </ArticleTaxonomy>\n          <Title dark hasOverflow={hasOverflow}>\n            {article.title}\n          </Title>\n          <MetaData>\n            <span className=\"Article__Date\">{article.date}</span> &bull; &nbsp;\n            <span className=\"Article__TimeToRead\">{article.timeToRead} min read</span>\n          </MetaData>{\" \"}\n        </ArticleContent>\n      </Item>\n    </ArticleLink>\n  );\n};\n\nconst wide = \"1fr\";\nconst narrow = \"457px\";\n\nconst limitToTwoLines = css`\n  text-overflow: ellipsis;\n  overflow-wrap: normal;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  //display: -webkit-box;\n  display: inline;\n  white-space: normal;\n  overflow: hidden;\n  //min-height: 84px;\n  margin-bottom: 25px;\n\n  ${mediaqueries.phablet`\n    -webkit-line-clamp: 3;\n  `}\n`;\n\nconst Grid = styled.div<{ numberOfArticles: number }>`\n  position: relative;\n  display: grid;\n  ${p => {\n    if (p.numberOfArticles === 1) {\n      return `\n      grid-template-columns: 1fr;\n      grid-template-rows: 1\n    `;\n    } else {\n      return `\n      grid-template-columns: ${wide} ${wide};\n      grid-template-rows: 2;\n      `;\n    }\n  }}\n  column-gap: 30px;\n  margin: 0 auto;\n  max-width: ${p => (p.numberOfArticles === 1 ? \"680px\" : \"100%\")};\n\n  ${mediaqueries.desktop`\n    grid-template-columns: 1fr 1fr;\n  `}\n\n  ${mediaqueries.tablet`\n    grid-template-columns: 1fr;\n  `}\n`;\n\nconst ImageContainer = styled.div<{ narrow: boolean; }>`\n  position: relative;\n  height: '220px';\n  //box-shadow: 0 30px 60px -10px rgba(0, 0, 0, ${p => (p.narrow ? 0.22 : 0.3)}),\n    0 18px 36px -18px rgba(0, 0, 0, ${p => (p.narrow ? 0.25 : 0.33)});\n  overflow: hidden;\n  z-index: 300;\n  display: block;\n\n  & > div {\n    height: 100%;\n    transition: transform 0.3s var(--ease-out-quad),\n    scale 0.3s var(--ease-out-quad);\n  }\n\n  ${mediaqueries.tablet`\n    height: 200px;\n    //margin-bottom: 35px;\n  `}\n\n  ${mediaqueries.phablet`\n    overflow: hidden;\n    margin-bottom: 0;\n    box-shadow: none;\n    //border-top-right-radius: 5px;\n    //border-top-left-radius: 5px;\n  `}\n`;\n\nconst Item = styled.div`\n  position: relative;\n\n  @media (max-width: 540px) {\n    box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.2);\n    border-bottom-right-radius: 5px;\n    border-bottom-left-radius: 5px;\n    background: ${p => p.theme.colors.card};\n  }\n`;\n\n\nconst Title = styled(Headings.h2)`\n  font-size: 28px;\n  font-weight: 400;\n  font-family: ${p => p.theme.fonts.serif};\n  margin-bottom: '25px';\n  //transition: color 0.3s ease-in-out;\n  ${limitToTwoLines};\n  background-size: 0 100%;\n  background-repeat: no-repeat;\n  text-decoration: none;\n  -webkit-transition: background-size .8s ease;\n  transition: background-size .8s ease;\n  background-image: -webkit-gradient(linear,left top,left bottom,color-stop(99%,transparent),color-stop(1%,${p => p.theme.colors.primary}));\n  background-image: linear-gradient(180deg,transparent 99%,${p => p.theme.colors.primary} 0);\n\n  ${mediaqueries.desktop`\n    margin-bottom: 15px;\n  `}\n\n  ${mediaqueries.tablet`\n    font-size: 24px;\n  `}\n\n  ${mediaqueries.phablet`\n    font-size: 22px;\n    padding: 0;\n    margin-bottom: 10px;\n    -webkit-line-clamp: 3;\n  `}\n`;\n\nconst Excerpt = styled.p<{ narrow: boolean; hasOverflow: boolean }>`\n  ${limitToTwoLines};\n  font-size: 16px;\n  margin-bottom: 10px;\n  color: ${p => p.theme.colors.grey};\n  display: ${p => (p.hasOverflow ? \"none\" : \"box\")};\n  max-width: ${p => (p.narrow ? \"415px\" : \"515px\")};\n\n  ${mediaqueries.desktop`\n    display: -webkit-box;\n  `}\n\n  ${mediaqueries.tablet`\n    margin-bottom: 15px;\n  `}\n\n  ${mediaqueries.phablet`\n    max-width: 100%;\n    padding:  0 20px;\n    margin-bottom: 20px;\n    -webkit-line-clamp: 3;\n  `}\n`;\n\n\nconst ArticleContent = styled.div<{\n  gridLayout: string;\n}>`\n  padding: 30px;\n  background: ${p => p.theme.colors.card};\n  //margin:  ${p => (p.gridLayout === 'tiles' ? '-150px 30px 20px 30px' : '110px 0 -30px -100px')};\n  z-index: 600;\n  display: block;\n  position: relative;\n\n  ${mediaqueries.tablet`\n    margin: 0 auto;\n    width: 100%;\n  `}\n`;\n\nconst MetaData = styled.div<{\n  gridLayout: string;\n}>`\n  font-weight: 400;\n  font-size: 16px;\n  color: ${p => p.theme.colors.lightGrey};\n  margin-top: ${p => (p.gridLayout === 'tiles' ? '20px' : '10px')};;\n  //opacity: 0.5;\n  //font-style: italic;\n\n  ${mediaqueries.phablet`\n    max-width: 100%;\n    padding: 0;\n  `}\n`;\n\nconst ArticleTaxonomy = styled.div<{\n  gridLayout: string;\n}>`\n  font-weight: 600;\n  font-size: 12px;\n  font-family: ${p => p.theme.fonts.sansSerif};\n  color: ${p => p.theme.colors.primary};\n  text-transform: uppercase;\n  opacity: 0.8;\n  letter-spacing: 2px;\n  margin-bottom: ${p => (p.gridLayout === 'tiles' ? '20px' : '10px')};\n  text-overflow: ellipsis;\n  overflow-wrap: normal;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  display: -webkit-box;\n  white-space: normal;\n  overflow: hidden;\n\n\n  .Article__Categories{\n    margin-right: 5px;\n    color: ${p => p.theme.colors.lightGrey};\n    margin-left: 1px;\n  }\n\n  ${mediaqueries.phablet`\n    max-width: 100%;\n    padding: 0;\n  `}\n`;\n\nconst ArticleLink = styled(Link)`\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  transition: transform 0.33s var(--ease-out-quart);\n  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n  //border-bottom: 5px solid ${p => p.theme.colors.primary};\n\n  &:hover ${ImageContainer} > div, &:focus ${ImageContainer} > div{\n    //transform: translateY(-1px);\n    //box-shadow: 0 50px 80px -20px rgba(0, 0, 0, 0.27),\n      0 30px 50px -30px rgba(0, 0, 0, 0.3);\n    transform: scale(1.1);\n  }\n\n  &:hover h2,\n  &:focus h2 {\n    //color: ${p => p.theme.colors.accent};\n    background-size: 100% 100%;\n    cursor: pointer;\n  }\n\n  &[data-a11y='true']:focus::after {\n    content: '';\n    position: absolute;\n    left: -1.5%;\n    top: -2%;\n    width: 103%;\n    height: 104%;\n    border: 3px solid ${p => p.theme.colors.accent};\n    background: rgba(255, 255, 255, 0.01);\n    //border-radius: 5px;\n  }\n\n  ${mediaqueries.tablet`\n    &:first-child{\n      margin-bottom: 40px;\n    }\n  `}\n\n  ${mediaqueries.phablet`\n    &:hover ${ImageContainer} {\n      transform: none;\n      //box-shadow: initial;\n    }\n\n    &:active {\n      transform: scale(0.97) translateY(3px);\n    }\n  `}\n`;\n","import React from 'react';\n\nimport SEO from '@components/SEO';\n\nimport { IArticle, ITopic } from '@types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nconst siteQuery = graphql`\n  {\n    allSite {\n      edges {\n        node {\n          siteMetadata {\n            name\n            siteUrl\n          }\n        }\n      }\n    }\n  }\n`;\n\ninterface ArticleSEOProps {\n  article: IArticle;\n  topics: ITopic[];\n  location: Location;\n  imagelocation?: string;\n}\n\nconst ArticleSEO: React.FC<ArticleSEOProps> = ({\n  article,\n  topics,\n  location,\n  imagelocation,\n}) => {\n  const results = useStaticQuery(siteQuery);\n  const siteUrl = results.allSite.edges[0].node.siteMetadata.siteUrl;\n\n  const topicsName = topics.map(topic => (topic.name));\n  const topicsSlug = topics.map(topic => (topic.slug));\n  const topicsBio = topics.map(topic => (topic.bio));\n\n  // Checks if the source of the image is hosted on Contentful\n  if (`${article.hero.seo.src}`.includes('ctfassets')) {\n    imagelocation = `https:${article.hero.seo.src}`;\n  } else {\n    imagelocation = `${siteUrl + article.hero.seo.src}`;\n  }\n\n  return (\n    <SEO\n      topicName={topicsName}\n      topicsBio={topicsBio}\n      topicsSlug={topicsSlug}\n      canonicalUrl={article.canonical_url}\n      dateforSEO={article.dateForSEO}\n      description={article.excerpt}\n      image={imagelocation}\n      isBlogPost={true}\n      articlepathName={siteUrl + location.pathname}\n      published={article.date}\n      timeToRead={article.timeToRead}\n      title={article.title}\n      isSecret={article.secret}\n    >\n    </SEO>\n  );\n};\n\nexport default ArticleSEO;\n","import React, { useState, useEffect } from 'react';\nimport styled from '@emotion/styled';\nimport { keyframes } from '@emotion/core';\nimport { useColorMode } from 'theme-ui';\n\nimport Icons from '@icons';\n\nimport {\n  getHighlightedTextPositioning,\n  getSelectionDimensions,\n  getSelectionText,\n  getWindowDimensions,\n  getBreakpointFromTheme,\n} from '@utils';\n\ninterface MenuFloatState {\n  x: number;\n  y: number;\n  show: boolean;\n}\n\n/**\n * Values we get to be able to ensure the positionting context are correct!\n * Padding is derviced from the CSS value in Editor\n */\nconst MENU_WIDTH: number = 225;\nconst MENU_HEIGHT: number = 46;\n\nconst ArticleShare: React.FC<{}> = () => {\n  const [colorMode] = useColorMode();\n  const [text, setText] = useState('');\n  const [focus, setFocus] = useState(false);\n  const [canTweet, setCanTweet] = useState(true);\n  const [{ x, y, show }, setPosition] = useState<MenuFloatState>({\n    x: 0,\n    y: 0,\n    show: false,\n  });\n\n  const share = generateShare(text);\n  const isDark = colorMode === 'dark';\n\n  useEffect(() => {\n    const events: string[] = ['keydown', 'keyup', 'mouseup', 'resize'];\n\n    function handleMenuFloatSettings() {\n      /**\n       * Why is there a setTimeout here?\n       * There is an issue with clicking on highlited text and the browsers ability\n       * to calcualte the correct ranges. If you highlight text, then click on it,\n       * the window.selection values will give the previous ranges instead of the current!\n       */\n      setTimeout(() => {\n        const article = document.getElementsByTagName('article')[0];\n        const paragraphOffset = document.getElementsByTagName('p')[0]\n          .offsetLeft;\n\n        if (!article) return;\n\n        // We want to not show the menu float in code blocks\n        const codeBlocks = Array.from(\n          article.getElementsByClassName('prism-code'),\n        );\n        const isHighlightedInCodeBlock = codeBlocks.some(block =>\n          window.getSelection().containsNode(block, true),\n        );\n\n        if (isHighlightedInCodeBlock) return;\n\n        const articleBox = article.getBoundingClientRect() as DOMRect;\n\n        const { width, height } = getSelectionDimensions();\n        const { x, y } = getHighlightedTextPositioning();\n        const { width: windowWidth } = getWindowDimensions();\n        const tablet = getBreakpointFromTheme('tablet');\n        const desktop = getBreakpointFromTheme('desktop');\n\n        /**\n         * Because the article is offset to the side to compensate for the progress bar\n         * we need to calculate the offset of the menu share in the same way.\n         */\n        let paddingOffset = 0;\n\n        if (windowWidth > tablet) {\n          paddingOffset = 53;\n        }\n\n        if (windowWidth > desktop) {\n          paddingOffset = 68;\n        }\n\n        /**\n         * Get the X and Y offsets of the editors Left and Top positions\n         * If the height is great than 20 (the user has highlighted more than 2 rows of text)\n         * then start the position from the left most edge so we can center the bar in\n         * the middle of the text area\n         */\n        const offset: { x: number; y: number } = {\n          x: height > 29 ? paragraphOffset + paddingOffset : x,\n          y: y - articleBox.y - 160,\n        };\n\n        setPosition({\n          x: offset.x + width / 2 - MENU_WIDTH / 2 - paddingOffset,\n          y: offset.y - MENU_HEIGHT - 5,\n          show: width > 1,\n        });\n\n        setText(getSelectionText());\n      }, 0);\n    }\n\n    // attach all events\n    events.forEach(event =>\n      window.addEventListener(event, handleMenuFloatSettings),\n    );\n\n    return () => {\n      // remove all events after mount\n      events.forEach(event =>\n        window.removeEventListener(event, handleMenuFloatSettings),\n      );\n    };\n  }, [show]);\n\n  /**\n   * Small workaround to set the focus once the x and y positiosn are set.\n   * If this is not here the user would see a quick flash of the floating bar\n   * in its old position and then animating to the new location. We don't want that.\n   */\n  useEffect(() => {\n    setTimeout(() => {\n      const { width } = getSelectionDimensions();\n      setFocus(width > 1);\n    }, 0);\n  }, [show]);\n\n  function handleCopyClick() {\n    const tempInput = document.createElement('input');\n    document.body.appendChild(tempInput);\n    tempInput.setAttribute('value', text);\n    tempInput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempInput);\n  }\n\n  /**\n   * Setting the ability to tweet. If the user highlights more than the allowed\n   * characters we need to give them feedback that it's too long to tweet.\n   */\n  useEffect(() => {\n    const tweetLimit = 280;\n    const otherCharactersInTweet = '\"\"â  '; // 2 quotes, 1 emdash, 2 spaces\n    const url = window.location.href;\n    const tweet = text + url + otherCharactersInTweet;\n\n    setCanTweet(tweet.length <= tweetLimit);\n  }, [text]);\n\n  return (\n    <MenuFloat\n      style={{\n        position: 'absolute',\n        left: `${x}px`,\n        top: `${y}px`,\n        display: show && focus ? 'flex' : 'none',\n        pointerEvents: show && focus ? 'initial' : 'none',\n      }}\n      isDark={isDark}\n    >\n      <MenuText>Share: </MenuText>\n      <ReferralLink disabled={!canTweet} share={share.twitter}>\n        <Icons.Twitter width=\"18px\" height=\"15px\" />\n      </ReferralLink>\n      <ReferralLink disabled={false} share={share.linkedin}>\n        <Icons.LinkedIn width=\"16px\" height=\"16px\" />\n      </ReferralLink>\n      <MenuDivider />\n      <MenuButton onClick={handleCopyClick} aria-label=\"Copy selected text\">\n        <Icons.Copy />\n      </MenuButton>\n    </MenuFloat>\n  );\n};\n\nexport default ArticleShare;\n\nfunction ReferralLink({ disabled, share, children }) {\n  function handleClick(event) {\n    event.preventDefault();\n    if (disabled) return;\n\n    window.open(\n      share,\n      '',\n      'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600',\n    );\n  }\n\n  return (\n    <MenuShare\n      href={disabled ? '' : share}\n      onClick={handleClick}\n      disabled={disabled}\n    >\n      <Hidden>Share the selected text</Hidden>\n      {children}\n    </MenuShare>\n  );\n}\n\nfunction generateShare(shareText: string) {\n  if (!shareText) return {};\n  const url = window.location.href;\n\n  return {\n    twitter: `https://twitter.com/intent/tweet?text=\"${shareText}\" â ${url}`,\n    linkedin: `http://www.linkedin.com/shareArticle?mini=true&url=${url}&summary=${shareText}&title=${shareText}`,\n  };\n}\n\nconst popUpwards = keyframes`\n  0% {\n    transform:matrix(.97,0,0,1,0,12);\n    opacity:0\n  }\n  20% {\n    transform:matrix(.99,0,0,1,0,2);\n    opacity:.7\n  }\n  40% {\n    transform:matrix(1,0,0,1,0,-1);\n    opacity:1\n  }\n  70% {\n    transform:matrix(1,0,0,1,0,0);\n    opacity:1\n  }\n  100% {\n    transform:matrix(1,0,0,1,0,0);\n    opacity:1\n  }\n`;\n\nconst MenuFloat = styled.div<{ isDark: boolean }>`\n  position: absolute;\n  align-items: center;\n  z-index: 1;\n  width: ${MENU_WIDTH}px;\n  height: ${MENU_HEIGHT}px;\n  padding: 7px 11px 7px 19px;\n  color: ${p => p.theme.colors.grey};\n  background: ${p => (p.isDark ? '#fafafa' : '#000')};\n  border-radius: 5px;\n  font-size: 18px;\n  font-weight: 600;\n  transition: left 75ms ease-out, right 75ms ease-out, background 200ms;\n  animation: ${popUpwards} 200ms forwards;\n\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n    bottom: -8px;\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-top: 8px solid ${p => (p.isDark ? '#fafafa' : '#000')};\n    transition: border-color 200ms;\n  }\n\n  svg {\n    path {\n      fill: ${p => (p.isDark ? '#000' : '#fff')};\n    }\n  }\n`;\n\nconst MenuText = styled.span`\n  margin-right: 8px;\n`;\n\nconst Hidden = styled.div`\n  width: 0px;\n  height: 0px;\n  visibility: hidden;\n  opacity: 0;\n`;\n\nconst MenuShare = styled.a<{ disabled: boolean }>`\n  display: flex;\n  align-items: center;\n  padding: 16px 11px;\n  cursor: ${p => (p.disabled ? 'not-allowed' : 'pointer')};\n\n  svg {\n    path {\n      fill: ${p => (p.disabled ? '#F89797' : '')};\n    }\n  }\n`;\n\nconst MenuButton = styled.button`\n  display: inline-block;\n  padding: 16px 11px;\n`;\n\nconst MenuDivider = styled.div`\n  display: inline-block;\n  height: 17px;\n  width: 1px;\n  position: relative;\n  margin: 0 8px;\n  background: rgba(115, 115, 125, 0.3);\n`;\n","import React, { useRef, useState, useEffect } from 'react';\nimport styled from '@emotion/styled';\nimport throttle from 'lodash/throttle';\nimport { graphql, useStaticQuery } from 'gatsby';\nimport { Disqus, CommentCount } from 'gatsby-plugin-disqus';\n\nimport Layout from '@components/Layout';\nimport MDXRenderer from '@components/MDX';\nimport Progress from '@components/Progress';\nimport Section from '@components/Section';\nimport Subscription from '@components/Subscription';\n\nimport mediaqueries from '@styles/media';\nimport { debounce } from '@utils';\n\nimport ArticleAside from '../sections/article/Article.Aside';\nimport ArticleHero from '../sections/article/Article.Hero';\nimport ArticleControls from '../sections/article/Article.Controls';\nimport ArticlesNext from '../sections/article/Article.Next';\nimport ArticleSEO from '../sections/article/Article.SEO';\nimport ArticleShare from '../sections/article/Article.Share';\n\nimport { Template } from \"@types\";\n\nconst siteQuery = graphql`\n  {\n    allSite {\n      edges {\n        node {\n          siteMetadata {\n            name\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst Article: Template = ({ pageContext, location }) => {\n  const contentSectionRef = useRef<HTMLElement>(null);\n\n  const [hasCalculated, setHasCalculated] = useState<boolean>(false);\n  const [contentHeight, setContentHeight] = useState<number>(0);\n\n  const results = useStaticQuery(siteQuery);\n  const name = results.allSite.edges[0].node.siteMetadata.name;\n\n  const { article, topics, mailchimp, next, categories } = pageContext;\n\n  let disqusConfig = {\n    url: `${'https://gianfaye.com'+location.pathname}`,\n    identifier: article.id,\n    title: article.title,\n  };\n\n  useEffect(() => {\n    const calculateBodySize = throttle(() => {\n      const contentSection = contentSectionRef.current;\n\n      if (!contentSection) return;\n\n      /**\n       * If we haven't checked the content's height before,\n       * we want to add listeners to the content area's\n       * imagery to recheck when it's loaded\n       */\n      if (!hasCalculated) {\n        const debouncedCalculation = debounce(calculateBodySize);\n        const $imgs = contentSection.querySelectorAll('img');\n\n        $imgs.forEach($img => {\n          // If the image hasn't finished loading then add a listener\n          if (!$img.complete) $img.onload = debouncedCalculation;\n        });\n\n        // Prevent rerun of the listener attachment\n        setHasCalculated(true);\n      }\n\n      // Set the height and offset of the content area\n      setContentHeight(contentSection.getBoundingClientRect().height);\n    }, 20);\n\n    calculateBodySize();\n    window.addEventListener('resize', calculateBodySize);\n\n    return () => window.removeEventListener('resize', calculateBodySize);\n  }, []);\n\n  return (\n    <Layout>\n      <ArticleSEO article={article} topics={topics} location={location} />\n      <ArticleHero\n        article={article}\n        topics={topics}\n        categories={categories}\n      />\n      <ArticleAside contentHeight={contentHeight}>\n        <Progress contentHeight={contentHeight} />\n      </ArticleAside>\n      <MobileControls>\n        <ArticleControls />\n      </MobileControls>\n      <ArticleBody ref={contentSectionRef}>\n        <MDXRenderer content={article.body}>\n          <ArticleShare />\n        </MDXRenderer>\n      </ArticleBody>\n      <CommentsContainer>\n        <CommentCount config={disqusConfig} placeholder={''} />\n        <Disqus config={disqusConfig} />\n      </CommentsContainer>\n      {/*{mailchimp && article.subscription && <Subscription />}*/}\n      {next.length > 0 && (\n        <NextArticle narrow>\n          <FooterNext>There's more to read!</FooterNext>\n          <ArticlesNext articles={next} />\n          <FooterSpacer />\n        </NextArticle>\n      )}\n    </Layout>\n  );\n};\n\nexport default Article;\n\nconst MobileControls = styled.div`\n  position: relative;\n  padding-top: 40px;\n  transition: background 0.2s linear;\n  text-align: center;\n\n  ${mediaqueries.tablet_up`\n    display: none;\n  `}\n`;\n\nconst CommentsContainer = styled.div`\n  position: relative;\n  margin: 0 auto;\n  max-width: 700px;\n  margin-bottom: 100px;\n\n  ${mediaqueries.desktop_medium`\n    max-width: 507px;\n    padding: 0 40px;\n  `}\n`;\n\nconst ArticleBody = styled.article`\n  position: relative;\n  //padding: 160px 0 35px 0;\n  padding: 100px 0 35px 0;\n  transition: background 0.2s linear;\n\n  ${mediaqueries.desktop`\n    padding-left: 0;\n  `}\n\n  ${mediaqueries.tablet`\n    padding: 70px 0 80px;\n    margin: 0 40px;\n  `}\n\n  ${mediaqueries.phablet`\n    padding: 40px 0;\n    margin: 0 40px;\n  `}\n`;\n\nconst NextArticle = styled(Section)`\n  display: block;\n`;\n\nconst FooterNext = styled.h3`\n  position: relative;\n  opacity: 0.25;\n  margin-bottom: 50px;\n  font-weight: 400;\n  color: ${p => p.theme.colors.primary};\n\n  ${mediaqueries.tablet`\n    margin-bottom: 40px;\n  `}\n\n  &::after {\n    content: '';\n    position: absolute;\n    background: ${p => p.theme.colors.grey};\n    width: ${(990 / 1140) * 100}%;\n    height: 1px;\n    right: 0;\n    top: 11px;\n\n    ${mediaqueries.tablet`\n      width: ${(600 / 1140) * 100}%;\n    `}\n  }\n`;\n\nconst FooterSpacer = styled.div`\n  margin-bottom: 65px;\n`;\n"],"sourceRoot":""}