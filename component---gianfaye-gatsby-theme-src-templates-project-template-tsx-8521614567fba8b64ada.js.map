{"version":3,"sources":["webpack:///../@gianfaye/gatsby-theme/src/sections/project/Project.Aside.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/project/Project.Works.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/project/Project.Categories.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/project/Project.Hero.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/project/Project.Controls.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/project/Project.Next.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/project/Project.SEO.tsx","webpack:///../@gianfaye/gatsby-theme/src/sections/project/Project.Share.tsx","webpack:///../@gianfaye/gatsby-theme/src/templates/project.template.tsx"],"names":["Aside","contentHeight","children","progressRef","useRef","useState","progress","setProgress","imageOffset","setImageOffset","shouldFixAside","setShouldFixAside","show","childrenWithProps","React","Children","map","child","cloneElement","useEffect","imageOffsetFromTopOfWindow","document","getElementById","getBoundingClientRect","top","window","scrollY","handleScroll","throttle","el","current","height","offsetHeight","windowHeight","innerHeight","documentElement","clientHeight","percentComplete","heroTagline","clamp","toFixed","classList","remove","add","addEventListener","removeEventListener","AsideContainer","Align","id","ref","mediaqueries","desktop_medium","memo","p","CoWorks","works","isOpen","setIsOpen","colorMode","useColorMode","names","work","name","join","generateWorkNames","fill","CoWorksContainer","onClick","CoWorksList","NameContainer","IconContainer","ToggleOpen","onOutsideClick","CoWorksListOpen","IconOpenContainer","ToggleClose","CoWorksListItemOpen","key","WorkLink","as","worksPage","Link","to","slug","CoWorkAvatarOpen","RoundedImage","src","avatar","small","WorkNameOpen","ProjectWorks","length","theme","colors","grey","phablet","Image","colorModeTransition","primary","card","background","fonts","sansSerif","desktop","secondary","ProjectCategories","categories","ProjectCategoryContainer","ProjectCategory","darkBackground","ProjectHero","project","hasMultipleWorks","hasHeroImage","hero","Object","keys","full","constructor","Hero","Header","HeroHeading","title","HeroExcerpt","excerpt","HeroSubtitle","ProjectMeta","date","HeroImage","HeroTaglineContainer","HeroTagline","HeroTaglineText","tablet","lightGrey","Headings","h1","serif","h4","horizontalRule","ShareDarkModeOffIcon","width","viewBox","xmlns","fillRule","clipRule","d","ShareDarkModeOnIcon","DarkModeToggle","setColorMode","isDark","IconWrapper","event","preventDefault","aria-label","MoonOrSun","MoonMask","SharePageButton","hasCopied","setHasCopied","Icon","copyToClipboard","location","href","setTimeout","data-a11y","ToolTip","ProjectControls","NavControls","ProjectsNext","projects","numberOfProjects","Grid","narrow","GridItem","hasOverflow","imageSource","regular","ProjectLink","Item","ImageContainer","ProjectContent","ProjectTaxonomy","className","Title","dark","MetaData","timeToRead","limitToTwoLines","css","h2","gridLayout","accent","ProjectSEO","imagelocation","siteUrl","useStaticQuery","allSite","edges","node","siteMetadata","worksName","worksSlug","worksBio","bio","seo","includes","SEO","workName","canonicalUrl","canonical_url","dateforSEO","dateForSEO","description","image","isBlogPost","projectpathName","pathname","published","isSecret","secret","ProjectShare","text","setText","focus","setFocus","canTweet","setCanTweet","x","y","setPosition","share","shareText","url","twitter","linkedin","generateShare","events","handleMenuFloatSettings","getElementsByTagName","paragraphOffset","offsetLeft","Array","from","getElementsByClassName","some","block","getSelection","containsNode","projectBox","getSelectionDimensions","getHighlightedTextPositioning","windowWidth","getWindowDimensions","paddingOffset","getBreakpointFromTheme","offset","MENU_WIDTH","getSelectionText","forEach","MenuFloat","style","position","left","display","pointerEvents","MenuText","ReferralLink","disabled","Twitter","LinkedIn","MenuDivider","MenuButton","tempInput","createElement","body","appendChild","setAttribute","select","execCommand","removeChild","Copy","MenuShare","open","Hidden","popUpwards","keyframes","MobileControls","Project","pageContext","contentSectionRef","hasCalculated","setHasCalculated","setContentHeight","next","mailchimp","disqusConfig","identifier","calculateBodySize","contentSection","debouncedCalculation","debounce","querySelectorAll","$img","complete","onload","Layout","ProjectBody","MDX","content","CommentsContainer","config","placeholder","NextProject","FooterNext","FooterSpacer","tablet_up","Section"],"mappings":"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","file":"component---gianfaye-gatsby-theme-src-templates-project-template-tsx-8521614567fba8b64ada.js","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport styled from \"@emotion/styled\";\nimport throttle from \"lodash/throttle\";\n\nimport HandleOverlap from \"./Project.HandleOverlap\";\n\nimport mediaqueries from \"@styles/media\";\nimport { clamp } from \"@utils\";\n\ninterface AsideProps {\n  contentHeight: number;\n}\n\n/**\n * Aside: the wonderful fixed positioned elements that are to the left\n * and the right of the written content on our projects. For example, the\n * progress bar and dark controls are within an Aside. The main responsibility\n * of this component is to show or hide its children if it's at the top or bottom\n * of the page!\n *\n * The left and right Asides!\n *\n * left Aside ----> |  content  | <--- right Aside\n *                  |  content  |\n *                  |  content  |\n *                  |  content  |\n *\n */\nconst Aside: React.FC<AsideProps> = ({ contentHeight, children }) => {\n  const progressRef = useRef<HTMLDivElement>(null);\n\n  const [progress, setProgress] = useState<number>(0);\n  const [imageOffset, setImageOffset] = useState<number>(0);\n  const [shouldFixAside, setShouldFixAside] = useState<boolean>(false);\n\n  const show = imageOffset && progress < 100;\n  const childrenWithProps = React.Children.map(children, child =>\n    React.cloneElement(child, { show }),\n  );\n\n  useEffect(() => {\n    const imageRect = document\n      .getElementById(\"ProjectImage__Hero\")\n      .getBoundingClientRect();\n\n    const imageOffsetFromTopOfWindow = (imageRect.top - 80) + window.scrollY;\n    setImageOffset(imageOffsetFromTopOfWindow);\n\n    const handleScroll = throttle(() => {\n      const el = progressRef.current;\n      const top = el.getBoundingClientRect().top;\n      const height = el.offsetHeight;\n      const windowHeight =\n        window.innerHeight || document.documentElement.clientHeight;\n\n      const percentComplete = (window.scrollY / contentHeight) * 100;\n\n      let heroTagline = document.getElementById(\"heroTagline\");\n\n      setProgress(clamp(+percentComplete.toFixed(2), 0, 105));\n\n      if (top + window.scrollY < imageOffsetFromTopOfWindow) {\n        if(heroTagline){\n          heroTagline.classList.remove(\"show\");\n        }\n        return setShouldFixAside(false);\n      }\n\n      if (top + height / 2 <= windowHeight / 2) {\n        let alignProgress = document.getElementById(\"alignProgress\");\n        alignProgress.classList.remove(\"hide\");\n        if(heroTagline){\n          heroTagline.classList.add(\"show\");\n        }\n        return setShouldFixAside(true);\n      }\n    }, 20);\n\n    window.addEventListener(\"scroll\", handleScroll);\n    window.addEventListener(\"resize\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      window.removeEventListener(\"resize\", handleScroll);\n    };\n  }, [contentHeight]);\n\n  return (\n    <AsideContainer>\n      <Align\n        id=\"alignProgress\"\n        show={show}\n        imageOffset={imageOffset}\n        shouldFixAside={shouldFixAside}\n      >\n        <div ref={progressRef}>\n          {childrenWithProps}\n        </div>\n      </Align>\n    </AsideContainer>\n  );\n};\n\nexport default Aside;\n\nconst AsideContainer = styled.aside`\n  display: flex;\n  margin: 0 auto;\n  //max-width: 1140px;\n\n  ${mediaqueries.desktop_medium`\n    display: none;\n  `}\n\n`;\n\nconst Align = React.memo(styled.div<{\n  show: boolean;\n  shouldFixAside: boolean;\n  imageOffset: number;\n}>`\n  //position: ${p => (p.shouldFixAside ? \"fixed\" : \"absolute\")};\n  position: fixed;\n  display: ${p => (p.shouldFixAside ? \"flex\" : \"none\")};\n  transform: translateX(0px);\n  //top: ${p => (p.shouldFixAside ? 0 : p.imageOffset)}px;\n  top: 78px;\n  left: 0;\n  align-items: ${p => (p.shouldFixAside ? \"center\" : \"flex-start\")};\n  //height: 100vh;\n  height: 5px;\n  width: 100vw;\n  z-index: 1000;\n\n  opacity: ${p => (p.show ? 1 : 0)};\n  visibility: ${p => (p.show ? \"visible\" : \"hidden\")};\n  transition: ${p =>\n  p.show\n    ? \"opacity 0.2s linear, visibility 0.4s linear\"\n    : \"opacity 0.2s linear, visibility 0.4s linear\"};\n\n  &.hide{\n    opacity: 0;\n  }\n\n  .Logo__Side {\n    position: absolute;\n    left: -27px;\n    visibility: visible;\n    height: calc(88vh - 40px);\n    max-height: 425px;\n    bottom: 0;\n\n    opacity: ${p => (p.shouldFixAside ? 1 : 0)};\n    visibility: ${p => (p.shouldFixAside ? \"visible\" : \"hidden\")};\n    transition: ${p =>\n  p.shouldFixAside\n    ? \"opacity 0.4s linear, visibility 0.4s linear\"\n    : \"opacity 0.2s linear, visibility 0.4s linear\"};\n  }\n`);\n","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport OutsideClickHandler from \"react-outside-click-handler\";\nimport { useColorMode } from \"theme-ui\";\nimport { Link } from \"gatsby\";\n\nimport Image from \"@components/Image\";\nimport Icons from \"@icons\";\nimport mediaqueries from \"@styles/media\";\nimport { IWork } from \"@types\";\n\n/**\n * When generating the work names we're also checking to see how long the\n * number of works are. If it's only 2 works we'll show the fullnames.\n * Otherwise it'll only preview the first names of each work.\n */\nfunction generateWorkNames(works: IWork[]) {\n  return works\n    .map(work => {\n      // if (works.length > 2) {\n      //   return work.name.split(\" \")[0];\n      // } else {\n      //   return work.name;\n      // }\n      return work.name;\n    })\n    .join(\", \");\n}\n\ninterface WorksProps {\n  works: IWork[]\n}\n\nconst CoWorks: React.FC<WorksProps> = ({ works }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [colorMode] = useColorMode();\n  const names = generateWorkNames(works);\n\n  const fill = colorMode === \"dark\" ? \"#fff\" : \"#000\";\n  // const listWidth = { width: `${10 + works.length * 15}px` };\n\n  return (\n    <CoWorksContainer onClick={() => setIsOpen(!isOpen)} isOpen={isOpen}>\n      <CoWorksList /*style={listWidth}*/>\n        {/*{works.map((work, index) => (*/}\n        {/*  <CoWorkAvatar style={{ left: `${index * 15}px` }} key={work.name}>*/}\n        {/*    <RoundedImage src={work.avatar.small} />*/}\n        {/*  </CoWorkAvatar>*/}\n        {/*))}*/}\n      </CoWorksList>\n      <NameContainer>{names}</NameContainer>\n      <IconContainer>\n        <Icons.ToggleOpen fill={fill} />\n      </IconContainer>\n\n      {isOpen && (\n        <OutsideClickHandler onOutsideClick={() => setIsOpen(!isOpen)}>\n          <CoWorksListOpen>\n            <IconOpenContainer>\n              <Icons.ToggleClose fill={fill} />\n            </IconOpenContainer>\n            {works.map(work => (\n              <CoWorksListItemOpen key={work.name}>\n                <WorkLink\n                  as={work.worksPage ? Link : \"div\"}\n                  to={work.slug}\n                >\n                  <CoWorkAvatarOpen>\n                    <RoundedImage src={work.avatar.small} />\n                  </CoWorkAvatarOpen>\n                  <WorkNameOpen>{work.name}</WorkNameOpen>\n                </WorkLink>\n              </CoWorksListItemOpen>\n            ))}\n          </CoWorksListOpen>\n        </OutsideClickHandler>\n      )}\n    </CoWorksContainer>\n  );\n};\n\n/**\n * Novela supports multiple works and therefore we need to ensure\n * we render the right UI when there are varying amount of works.\n */\nconst ProjectWorks: React.FC<WorksProps> = ({ works }) => {\n  const hasCoWorks = works.length > 1;\n\n  // Special dropdown UI for multiple works\n  if (hasCoWorks) {\n    return <CoWorks works={works} />;\n  } else {\n    return (\n      <WorkLink\n        as={works[0].worksPage ? Link : \"div\"}\n        to={works[0].slug}\n      >\n        {/*<WorkAvatar>*/}\n        {/*  <RoundedImage src={works[0].avatar.small} />*/}\n        {/*</WorkAvatar>*/}\n        <NameContainer>{works[0].name}</NameContainer>\n        {/*<HideOnMobile>,&nbsp;</HideOnMobile>*/}\n      </WorkLink>\n    );\n  }\n};\n\nexport default ProjectWorks;\n\nconst WorkAvatar = styled.div`\n  height: 25px;\n  width: 25px;\n  border-radius: 50%;\n  margin-right: 14px;\n  background: ${p => p.theme.colors.grey};\n  overflow: hidden;\n\n  .gatsby-image-wrapper > div {\n    padding-bottom: 100% !important;\n  }\n\n  ${mediaqueries.phablet`\n    display: none;\n  `}\n`;\n\nconst RoundedImage = styled(Image)`\n  border-radius: 50%;\n`;\n\nconst WorkLink = styled.div`\n  display: flex;\n  align-items: center;\n  color: inherit;\n  margin-right: 10px;\n  letter-spacing: 1px;\n\n  strong {\n    transition: ${p => p.theme.colorModeTransition};\n  }\n\n  &:hover strong {\n    color: ${p => p.theme.colors.primary};\n  }\n\n  ${mediaqueries.phablet`\n    text-align: center;\n    display: block;\n    margin-right: 0;\n\n    strong{\n      max-width: unset;\n    }\n  `};\n`;\n\nconst CoWorksList = styled.div`\n  position: relative;\n  height: 25px;\n  //margin-right: 15px;\n\n  ${mediaqueries.phablet`\n    display: none;\n  `}\n`;\n\nconst CoWorksListOpen = styled.ul`\n  position: absolute;\n  z-index: 2;\n  left: -21px;\n  right: -21px;\n  top: -19px;\n  padding: 21px;\n  background: ${p => p.theme.colors.card};\n  box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  cursor: pointer;\n  list-style: none;\n  transform: translateY(-2px);\n`;\n\nconst CoWorksListItemOpen = styled.li`\n  a {\n    width: 100%;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n`;\n\nconst CoWorkAvatarOpen = styled.div`\n  height: 25px;\n  width: 25px;\n  border-radius: 50%;\n  margin-right: 15px;\n  background: ${p => p.theme.colors.grey};\n  overflow: hidden;\n  pointer-events: none;\n\n  .gatsby-image-wrapper > div {\n    padding-bottom: 100% !important;\n    overflow: hidden;\n  }\n`;\n\nconst CoWorkAvatar = styled.div`\n  position: absolute;\n  height: 25px;\n  width: 25px;\n  border-radius: 50%;\n  z-index: 1;\n  background: ${p => p.theme.colors.grey};\n  box-shadow: 0 0 0 2px ${p => p.theme.colors.background};\n  transition: box-shadow 0.25s ease;\n  overflow: hidden;\n  pointer-events: none;\n\n  .gatsby-image-wrapper > div {\n    padding-bottom: 100% !important;\n    overflow: hidden;\n  }\n\n  ${mediaqueries.phablet`\n    display: none;\n  `}\n`;\n\nconst NameContainer = styled.strong`\n  position: relative;\n  //max-width: 260px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  cursor: pointer;\n  font-family: ${p => p.theme.fonts.sansSerif};\n  color: ${p => p.theme.colors.primary};\n  text-transform: uppercase;\n  font-size: 12px;\n  letter-spacing: 2px;\n  min-width: 75px;\n  text-align: right;\n\n  ${mediaqueries.desktop`\n    max-width: 170px;\n  `}\n\n  ${mediaqueries.phablet`\n    max-width: 200px;\n    text-align: center;\n  `}\n`;\n\nconst WorkNameOpen = styled.strong`\n  position: relative;\n  cursor: pointer;\n  color: ${p => p.theme.colors.secondary};\n  font-weight: 600;\n`;\n\nconst IconContainer = styled.div`\n  position: relative;\n  cursor: pointer;\n  margin-left: 10px;\n\n  ${mediaqueries.phablet`\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    top: 10px;\n    height: 100%;\n  `}\n`;\n\nconst IconOpenContainer = styled.div`\n  position: absolute;\n  cursor: pointer;\n  top: 20px;\n  right: 21px;\n`;\n\nconst CoWorksContainer = styled.div<{ isOpen: boolean }>`\n  position: relative;\n  display: flex;\n  align-items: center;\n  font-size: 18px;\n  color: ${p => p.theme.colors.grey};\n  letter-spacing: 1px;\n  cursor: pointer;\n  margin-left: 10px;\n\n  &::before {\n    content: \"\";\n    position: absolute;\n    left: -20px;\n    right: -20px;\n    top: -16px;\n    bottom: -16px;\n    background: ${p => p.theme.colors.card};\n    box-shadow: ${p =>\n  p.isOpen ? \"none\" : \" 0px 0px 15px rgba(0, 0, 0, 0.1)\"};\n    border-radius: 5px;\n    z-index: 0;\n    transition: opacity 0.3s;\n    cursor: pointer;\n    opacity: 0;\n  }\n\n  &:hover::before {\n    opacity: 1;\n  }\n\n  ${mediaqueries.phablet`\n    font-size: 14px;\n    align-items: center;\n\n    &::before {\n      box-shadow: none;\n      bottom: -30px;\n      background: transparent;\n    }\n\n\n    strong {\n      display: block;\n      font-weight: semi-bold;\n      margin-bottom: 5px;\n    }\n  `}\n`;\n\nconst HideOnMobile = styled.span`\n  ${mediaqueries.phablet`\n    display: none;\n  `}\n`;\n","import React from 'react';\nimport styled from \"@emotion/styled\";\nimport mediaqueries from \"@styles/media\";\n\nexport default function ProjectCategories({ categories }) {\n  return (\n    <ProjectCategoryContainer>\n      <ProjectCategory>\n        {categories}\n      </ProjectCategory>\n    </ProjectCategoryContainer>\n  );\n}\n\nconst ProjectCategoryContainer = styled.div`\n  padding: 10px 0;\n  min-width: fit-content;\n\n  ${mediaqueries.phablet`\n    text-align: center;\n  `};\n`;\nconst ProjectCategory = styled.span`\n  font-family: ${p => p.theme.fonts.sansSerif};\n  text-transform: uppercase;\n  font-size: 12px;\n  display: block;\n  font-weight: 600;\n  color: ${p => p.theme.colors.background};\n  background: ${p => p.theme.colors.darkBackground};\n  letter-spacing: 2px;\n  padding: 7px 10px 5px 10px;\n  margin-top: -4px;\n\n  ${mediaqueries.phablet`\n    display: inline-block;\n  `};\n`;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { Link } from \"gatsby\";\n\nimport Headings from '@components/Headings';\nimport Image, { ImagePlaceholder } from '@components/Image';\n\nimport mediaqueries from '@styles/media';\nimport { IProject, IWork } from '@types';\n\nimport ProjectWorks from './Project.Works';\nimport ProjectCategories from './Project.Categories';\n\ninterface ProjectHeroProps {\n  project: IProject;\n  works: IWork[];\n}\n\nconst ProjectHero = ({ project, works, categories }: ProjectHeroProps) => {\n  const hasMultipleWorks = works.length > 1;\n  const hasHeroImage =\n    project.hero &&\n    Object.keys(project.hero.full).length !== 0 &&\n    project.hero.full.constructor === Object;\n\n  return (\n    <Hero>\n      <Header>\n        {/*<HeroCrumbs id=\"ProjectBreadcrumb\">*/}\n        {/*  <HeroCrumb as={Link} to={'/'}>*/}\n        {/*    HOME*/}\n        {/*  </HeroCrumb>*/}\n        {/*  <HeroCrumbSeparator>&gt;</HeroCrumbSeparator>*/}\n        {/*  <HeroCrumb as={Link} to={'/projects'}>*/}\n        {/*    PROJECTS*/}\n        {/*  </HeroCrumb>*/}\n        {/*  <HeroCrumbSeparator>&gt;</HeroCrumbSeparator>*/}\n        {/*  <HeroCrumb className=\"active\">*/}\n        {/*    {project.title}*/}\n        {/*  </HeroCrumb>*/}\n        {/*</HeroCrumbs>*/}\n        <HeroHeading id=\"ProjectTitle\">{project.title}</HeroHeading>\n        <HeroExcerpt>{project.excerpt}</HeroExcerpt>\n        <HeroSubtitle hasMultipleWorks={hasMultipleWorks}>\n          <ProjectWorks works={works} />\n          <ProjectCategories categories={categories} />\n          <ProjectMeta hasMultipleWorks={hasMultipleWorks}>\n            {project.date}\n          </ProjectMeta>\n        </HeroSubtitle>\n      </Header>\n      <HeroImage id=\"ProjectImage__Hero\">\n        {hasHeroImage ? (\n          <Image src={project.hero.full} />\n        ) : (\n          <ImagePlaceholder />\n        )}\n        <HeroTaglineContainer>\n          <HeroTagline id=\"heroTagline\">\n            <HeroTaglineText>\n              {project.title}\n            </HeroTaglineText>\n          </HeroTagline>\n        </HeroTaglineContainer>\n      </HeroImage>\n    </Hero>\n  );\n};\n\nexport default ProjectHero;\n\nconst Hero = styled.div`\n  ${p => mediaqueries.phablet`\n    &::before {\n      content: \"\";\n      width: 100%;\n      height: 20px;\n      background: ${p.theme.colors.primary};\n      position: absolute;\n      left: 0;\n      top: 0;\n      transition: ${p.theme.colorModeTransition};\n    }\n\n    &::after {\n      content: \"\";\n      width: 100%;\n      height: 10px;\n      background: ${p.theme.colors.background};\n      position: absolute;\n      left: 0;\n      top: 10px;\n      border-top-left-radius: 25px;\n      border-top-right-radius: 25px;\n      transition: ${p.theme.colorModeTransition};\n    }\n  `}\n`;\n\nconst HeroTaglineContainer = styled.div`\n  ${mediaqueries.phablet`\n    display: none;\n  `}\n`;\n\nconst HeroTagline = styled.div`\n  height: 60px;\n  width: 43.75vw;\n  max-width: 700px;\n  text-align: right;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  //position: absolute;\n  position: fixed;\n  bottom: 100%;\n  right: 0;\n  transform-origin: right bottom;\n  transform: rotate(-90deg);\n  width: 52.812vw;\n  max-width: 845px;\n  bottom: auto;\n  //top: calc(100% + -15px);\n  top: 50px;\n  z-index: 10;\n  opacity: 0;\n\n  &.show{\n    opacity: 1;\n  }\n\n  ${mediaqueries.tablet`\n    width: 40vw;\n  `};\n`;\n\nconst HeroTaglineText = styled.span`\n  font-family: ${p => p.theme.fonts.sansSerif};\n  color: ${p => p.theme.colors.primary};\n  text-transform: uppercase;\n  font-size: 10px;\n  font-weight: 600;\n  letter-spacing: .2em;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: block;\n  padding-right: 60px;\n\n  &::after{\n    background-color: ${p => p.theme.colors.primary};\n    content: '';\n    display: inline-block;\n    height: 1px;\n    width: 40px;\n    margin-left: 20px;\n    position: absolute;\n    right: 0;\n    top: 29px;\n  }\n`;\n\nconst ProjectMeta = styled.div<{ hasMultipleWorks: boolean }>`\n  margin-left: 7px;\n  padding: 14px 5px;\n  text-align: left;\n  font-size: 12px;\n  font-weight: 600;\n  font-family: ${p => p.theme.fonts.sansSerif};\n  color: ${p => p.theme.colors.primary};\n  text-transform: uppercase;\n  letter-spacing: 2px;\n  height: max-content;\n  opacity: 0.3;\n\n  ${mediaqueries.phablet`\n    text-align: center;\n    padding: 0;\n    margin: 0;\n  `}\n`;\n\nconst Header = styled.header`\n  position: relative;\n  z-index: 10;\n  margin: 60px auto 40px auto;\n  padding-left: 28px;\n  max-width: 1000px;\n\n  ${mediaqueries.desktop`\n    padding-left: 0;\n    max-width: calc(507px + 53px);\n    margin: 60px auto 70px;\n  `}\n\n  ${mediaqueries.tablet`\n    padding-left: 0;\n    margin: 60px auto 70px;\n    max-width: 480px;\n  `}\n\n  ${mediaqueries.phablet`\n    margin: 30px;\n    padding: 60px 40px;\n    background: #FFF;\n    border: 1px solid;\n  `}\n\n`;\n\nconst HeroCrumbs = styled.div`\n  display: block;\n  text-decoration: none;\n  padding-bottom: 3px;\n  text-align: center;\n  width: 100%;\n\n  ${mediaqueries.tablet`\n    display: none;\n  `}\n\n  ${mediaqueries.phablet`\n  `}\n`;\n\nconst HeroCrumbSeparator = styled.span`\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.32;\n  display: inline;\n  text-decoration: none;\n  padding: 0 10px;\n  color: ${p => p.theme.colors.lightGrey};\n`;\n\nconst HeroCrumb = styled(Headings.h5)`\n  font-size: 12px;\n  text-transform: uppercase;\n  font-family: ${p => p.theme.fonts.sansSerif};\n  font-weight: 600;\n  line-height: 1.32;\n  letter-spacing: 2px;\n  display: inline;\n  text-decoration: none;\n  //border-bottom: 2px solid;\n  padding-bottom: 3px;\n  color: ${p => p.theme.colors.primary};\n\n  &.active{\n    border-bottom: none;\n    cursor: default;\n    pointer-events: none;\n  }\n\n  &:hover{\n    border-bottom: 2px solid;\n  }\n\n  ${mediaqueries.tablet`\n    margin-bottom: 20px;\n    font-size: 36px;\n  `}\n\n  ${mediaqueries.phablet`\n    font-size: 32px;\n  `}\n`;\n\nconst HeroHeading = styled(Headings.h1)`\n  font-size: 60px;\n  font-family: ${p => p.theme.fonts.serif};\n  margin-bottom: 25px;\n  font-weight: 400;line-height: 1;\n  margin-bottom: 15px;\n  text-align: center;\n  max-width: 800px;\n  margin: 45px auto 20px auto;\n\n  ${mediaqueries.tablet`\n    margin-bottom: 20px;\n    font-size: 36px;\n  `}\n\n  ${mediaqueries.phablet`\n    font-size: 32px;\n  `}\n`;\n\nconst HeroExcerpt = styled(Headings.h4)`\n  font-size: 24px;\n  font-family: \"Sentinel Italic\";\n  font-style: italic;\n  font-weight: 400;\n  max-width: 700px;\n  text-align: center;\n  margin: 0 auto 30px auto;\n\n  ${mediaqueries.tablet`\n    margin-bottom: 20px;\n    font-size: 24px;\n  `}\n\n  ${mediaqueries.phablet`\n    font-size: 20px;\n  `}\n`;\n\nconst HeroSubtitle = styled.div<{ hasMultipleWorks: boolean }>`\n  position: relative;\n  display: flex;\n  font-size: 18px;\n  color: ${p => p.theme.colors.grey};\n  // padding: 0px 0 30px;\n  // border-bottom: 5px solid ${p => p.theme.colors.primary};\n  justify-content: center;\n\n  ${p => mediaqueries.phablet`\n    font-size: 14px;\n    flex-direction: column;\n\n    ${p.hasMultipleWorks &&\n`\n        &::before {\n          content: '';\n          position: absolute;\n          left: -20px;\n          right: -20px;\n          top: -10px;\n          bottom: -10px;\n          border: 1px solid ${p.theme.colors.horizontalRule};\n          opacity: 0.5;\n          border-radius: 5px;\n        }\n    `}\n\n\n    strong {\n      display: block;\n      font-weight: 500;\n      margin-bottom: 5px;\n    }\n  `}\n`;\n\nconst HeroImage = styled.div`\n  position: relative;\n  z-index: 1;\n  width: 100%;\n  // max-width: 944px;\n  // overflow: hidden;\n  margin: 0 auto;\n  // box-shadow: 0 30px 60px -10px rgba(0, 0, 0, 0.2),\n  //   0 18px 36px -18px rgba(0, 0, 0, 0.22);\n  margin-top: 30px;\n\n  img {\n    z-index: 50;\n  }\n\n  ${mediaqueries.tablet`\n    max-width: 100%;\n  `}\n\n  ${mediaqueries.phablet`\n    margin: 0 auto;\n    //width: calc(100vw - 40px);\n    height: 220px;\n    display: none;\n\n    & > div {\n      height: 220px;\n    }\n`}\n`;\n\n","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { useColorMode } from \"theme-ui\";\n\nimport mediaqueries from \"@styles/media\";\nimport { copyToClipboard } from \"@utils\";\n\nconst ShareDarkModeOffIcon: React.FC<{}> = () => (\n  <svg\n    width=\"24\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M2 5C2 3.34328 3.34328 2 5 2H14C15.6567 2 17 3.34328 17 5V9C17 10.6567 15.6567 12 14 12H10C9.44771 12 9 12.4477 9 13C9 13.5523 9.44771 14 10 14H14C16.7613 14 19 11.7613 19 9V5C19 2.23872 16.7613 0 14 0H5C2.23872 0 0 2.23872 0 5V9C0 10.4938 0.656313 11.8361 1.6935 12.7509C2.10768 13.1163 2.73961 13.0767 3.10494 12.6625C3.47028 12.2483 3.43068 11.6164 3.0165 11.2511C2.39169 10.6999 2 9.89621 2 9V5ZM7 11C7 9.34328 8.34328 8 10 8H14C14.5523 8 15 7.55228 15 7C15 6.44772 14.5523 6 14 6H10C7.23872 6 5 8.23872 5 11V15C5 17.7613 7.23872 20 10 20H19C21.7613 20 24 17.7613 24 15V11C24 9.50621 23.3437 8.16393 22.3065 7.24906C21.8923 6.88372 21.2604 6.92332 20.8951 7.3375C20.5297 7.75168 20.5693 8.38361 20.9835 8.74894C21.6083 9.30007 22 10.1038 22 11V15C22 16.6567 20.6567 18 19 18H10C8.34328 18 7 16.6567 7 15V11Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nconst ShareDarkModeOnIcon: React.FC<{}> = () => (\n  <svg\n    width=\"24\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M2 5C2 3.34328 3.34328 2 5 2H14C15.6567 2 17 3.34328 17 5V9C17 10.6567 15.6567 12 14 12H10C9.44771 12 9 12.4477 9 13C9 13.5523 9.44771 14 10 14H14C16.7613 14 19 11.7613 19 9V5C19 2.23872 16.7613 0 14 0H5C2.23872 0 0 2.23872 0 5V9C0 10.4938 0.656313 11.8361 1.6935 12.7509C2.10768 13.1163 2.73961 13.0767 3.10494 12.6625C3.47028 12.2483 3.43068 11.6164 3.0165 11.2511C2.39169 10.6999 2 9.89621 2 9V5ZM7 11C7 9.34328 8.34328 8 10 8H14C14.5523 8 15 7.55228 15 7C15 6.44772 14.5523 6 14 6H10C7.23872 6 5 8.23872 5 11V15C5 17.7613 7.23872 20 10 20H19C21.7613 20 24 17.7613 24 15V11C24 9.50621 23.3437 8.16393 22.3065 7.24906C21.8923 6.88372 21.2604 6.92332 20.8951 7.3375C20.5297 7.75168 20.5693 8.38361 20.9835 8.74894C21.6083 9.30007 22 10.1038 22 11V15C22 16.6567 20.6567 18 19 18H10C8.34328 18 7 16.6567 7 15V11Z\"\n      fill=\"black\"\n    />\n  </svg>\n);\n\nconst DarkModeToggle: React.FC<{}> = () => {\n  const [colorMode, setColorMode] = useColorMode();\n  const isDark = colorMode === `dark`;\n\n  function toggleColorMode(event) {\n    event.preventDefault();\n    setColorMode(isDark ? `light` : `dark`);\n  }\n\n  return (\n    <IconWrapper\n      onClick={toggleColorMode}\n      aria-label=\"Toggle dark and light mode\"\n    >\n      <MoonOrSun isDark={isDark} />\n      <MoonMask isDark={isDark} />\n    </IconWrapper>\n  );\n};\n\nconst SharePageButton: React.FC<{}> = () => {\n  const [hasCopied, setHasCopied] = useState<boolean>(false);\n  const [colorMode] = useColorMode();\n  const isDark = colorMode === `dark`;\n\n  function copyToClipboardOnClick() {\n    if (hasCopied) return;\n\n    copyToClipboard(window.location.href);\n    setHasCopied(true);\n\n    setTimeout(() => {\n      setHasCopied(false);\n    }, 1000);\n  }\n\n  const Icon = isDark ? ShareDarkModeOffIcon : ShareDarkModeOnIcon;\n\n  return (\n    <IconWrapper\n      onClick={copyToClipboardOnClick}\n      data-a11y=\"false\"\n      aria-label=\"Copy URL to clipboard\"\n    >\n      <Icon />\n      <ToolTip isDark={isDark} hasCopied={hasCopied}>\n        Copied\n      </ToolTip>\n    </IconWrapper>\n  );\n};\n\nconst ProjectControls: React.FC<{}> = () => {\n  return (\n    <NavControls>\n      <SharePageButton />\n      <DarkModeToggle />\n    </NavControls>\n  );\n};\n\nexport default ProjectControls;\n\nconst NavControls = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst ToolTip = styled.div<{ isDark: boolean; hasCopied: boolean }>`\n  position: absolute;\n  padding: 4px 13px;\n  background: ${p => (p.isDark ? \"#000\" : \"rgba(0,0,0,0.1)\")};\n  color: ${p => (p.isDark ? \"#fff\" : \"#000\")};\n  border-radius: 5px;\n  font-size: 14px;\n  top: -35px;\n  opacity: ${p => (p.hasCopied ? 1 : 0)};\n  transform: ${p => (p.hasCopied ? \"translateY(-3px)\" : \"none\")};\n  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -6px;\n    margin: 0 auto;\n    width: 0;\n    height: 0;\n    border-left: 6px solid transparent;\n    border-right: 6px solid transparent;\n    border-top: 6px solid ${p => (p.isDark ? \"#000\" : \"rgba(0,0,0,0.1)\")};\n  }\n`;\n\nconst IconWrapper = styled.button`\n  opacity: 0.5;\n  position: relative;\n  z-index: 200000000;\n  border-radius: 5px;\n  width: 40px;\n  height: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity 0.3s ease;\n  margin-left: 30px;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  ${mediaqueries.tablet`\n    display: inline-flex;\n    transform: scale(0.9);\n    margin: 0 15px;\n\n\n    &:hover {\n      opacity: 0.5;\n    }\n  `}\n`;\n\n// This is based off a codepen! Much appreciated to: https://codepen.io/aaroniker/pen/KGpXZo\nconst MoonOrSun = styled.div<{ isDark: boolean }>`\n  position: relative;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: ${p => (p.isDark ? \"4px\" : \"2px\")} solid\n    ${p => p.theme.colors.primary};\n  background: ${p => p.theme.colors.primary};\n  transform: scale(${p => (p.isDark ? 0.55 : 1)});\n  transition: all 0.45s ease;\n  overflow: ${p => (p.isDark ? \"visible\" : \"hidden\")};\n\n  &::before {\n    content: \"\";\n    position: absolute;\n    right: -9px;\n    top: -9px;\n    height: 24px;\n    width: 24px;\n    border: 2px solid ${p => p.theme.colors.primary};\n    border-radius: 50%;\n    transform: translate(${p => (p.isDark ? \"14px, -14px\" : \"0, 0\")});\n    opacity: ${p => (p.isDark ? 0 : 1)};\n    transition: transform 0.45s ease;\n  }\n\n  &::after {\n    content: \"\";\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    margin: -4px 0 0 -4px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    box-shadow: 0 -23px 0 ${p => p.theme.colors.primary},\n      0 23px 0 ${p => p.theme.colors.primary},\n      23px 0 0 ${p => p.theme.colors.primary},\n      -23px 0 0 ${p => p.theme.colors.primary},\n      15px 15px 0 ${p => p.theme.colors.primary},\n      -15px 15px 0 ${p => p.theme.colors.primary},\n      15px -15px 0 ${p => p.theme.colors.primary},\n      -15px -15px 0 ${p => p.theme.colors.primary};\n    transform: scale(${p => (p.isDark ? 1 : 0)});\n    transition: all 0.35s ease;\n\n    ${p => mediaqueries.tablet`\n      transform: scale(${p.isDark ? 0.92 : 0});\n    `}\n  }\n`;\n\nconst MoonMask = styled.div<{ isDark: boolean }>`\n  position: absolute;\n  right: -1px;\n  top: -8px;\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  border: 0;\n  background: ${p => p.theme.colors.background};\n  transform: translate(${p => (p.isDark ? \"14px, -14px\" : \"0, 0\")});\n  opacity: ${p => (p.isDark ? 0 : 1)};\n  transition: transform 0.45s ease, ${p => p.theme.colorModeTransition};\n`;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { css } from \"@emotion/core\";\nimport { Link } from \"gatsby\";\n\nimport Headings from \"@components/Headings\";\nimport Image from \"@components/Image\";\n\nimport mediaqueries from \"@styles/media\";\n\nimport { IProject } from \"@types\";\n\ninterface ProjectsNextProps {\n  projects: IProject[]\n}\n\n/**\n * Sits at the bottom of our Project page. Shows the next 2 on desktop and the\n * next 1 on mobile!\n *\n *  [..............], [.........]\n *  [.....LONG.....], [..SHORT..]\n *  [..............], [.........]\n *\n * This does NOT use Projects.List because there's a special case of only have 1 project\n * as the next one suggested project, which requires special styling we didn't want to\n * mix into the generic list component.\n */\nconst ProjectsNext: React.FC<ProjectsNextProps> = ({ projects }) => {\n  if (!projects) return null;\n  const numberOfProjects = projects.length;\n  //console.log('projects', projects);\n  return (\n    <Grid numberOfProjects={numberOfProjects}>\n      <GridItem project={projects[0]} />\n      <GridItem project={projects[1]} narrow />\n    </Grid>\n  );\n};\n\nexport default ProjectsNext;\n\ninterface GridItemProps {\n  project: IProject;\n  narrow?: boolean;\n}\n\nconst GridItem: React.FC<GridItemProps> = ({ project, narrow }) => {\n  if (!project) return null;\n\n  const hasOverflow = narrow && project.title.length > 35;\n  const imageSource = narrow ? project.hero.narrow : project.hero.regular;\n\n  return (\n    <ProjectLink\n      to={project.slug}\n      data-a11y=\"false\"\n      narrow={narrow ? \"true\" : \"false\"}\n    >\n      <Item>\n        <ImageContainer>\n          <Image src={imageSource} />\n        </ImageContainer>\n        <ProjectContent>\n          <ProjectTaxonomy>\n            <span className=\"Project__Categories\">{project.categories}</span>\n            <span className=\"Project__Works\">{project.work}</span>\n          </ProjectTaxonomy>\n          <Title dark hasOverflow={hasOverflow}>\n            {project.title}\n          </Title>\n          <MetaData>\n            <span className=\"Project__Date\">{project.date}</span> &bull; &nbsp;\n            <span className=\"Project__TimeToRead\">{project.timeToRead} min read</span>\n          </MetaData>{\" \"}\n        </ProjectContent>\n      </Item>\n    </ProjectLink>\n  );\n};\n\nconst wide = \"1fr\";\nconst narrow = \"457px\";\n\nconst limitToTwoLines = css`\n  text-overflow: ellipsis;\n  overflow-wrap: normal;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  //display: -webkit-box;\n  display: inline;\n  white-space: normal;\n  overflow: hidden;\n  //min-height: 84px;\n  margin-bottom: 25px;\n\n  ${mediaqueries.phablet`\n    -webkit-line-clamp: 3;\n  `}\n`;\n\nconst Grid = styled.div<{ numberOfProjects: number }>`\n  position: relative;\n  display: grid;\n  ${p => {\n  if (p.numberOfProjects === 1) {\n    return `\n      grid-template-columns: 1fr;\n      grid-template-rows: 1\n    `;\n  } else {\n    return `\n      grid-template-columns: ${wide} ${wide};\n      grid-template-rows: 2;\n      `;\n  }\n}}\n  column-gap: 30px;\n  margin: 0 auto;\n  max-width: ${p => (p.numberOfProjects === 1 ? \"680px\" : \"100%\")};\n\n  ${mediaqueries.desktop`\n    grid-template-columns: 1fr 1fr;\n  `}\n\n  ${mediaqueries.tablet`\n    grid-template-columns: 1fr;\n  `}\n`;\n\nconst ImageContainer = styled.div<{ narrow: boolean; }>`\n  position: relative;\n  height: '220px';\n  //box-shadow: 0 30px 60px -10px rgba(0, 0, 0, ${p => (p.narrow ? 0.22 : 0.3)}),\n    0 18px 36px -18px rgba(0, 0, 0, ${p => (p.narrow ? 0.25 : 0.33)});\n  overflow: hidden;\n  z-index: 300;\n  display: block;\n\n  & > div {\n    height: 100%;\n    transition: transform 0.3s var(--ease-out-quad),\n    scale 0.3s var(--ease-out-quad);\n  }\n\n  ${mediaqueries.tablet`\n    height: 200px;\n    //margin-bottom: 35px;\n  `}\n\n  ${mediaqueries.phablet`\n    overflow: hidden;\n    margin-bottom: 0;\n    box-shadow: none;\n    //border-top-right-radius: 5px;\n    //border-top-left-radius: 5px;\n  `}\n`;\n\nconst Item = styled.div`\n  position: relative;\n\n  @media (max-width: 540px) {\n    box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.2);\n    border-bottom-right-radius: 5px;\n    border-bottom-left-radius: 5px;\n    background: ${p => p.theme.colors.card};\n  }\n`;\n\n\nconst Title = styled(Headings.h2)`\n  font-size: 28px;\n  font-weight: 400;\n  font-family: ${p => p.theme.fonts.serif};\n  margin-bottom: '25px';\n  //transition: color 0.3s ease-in-out;\n  ${limitToTwoLines};\n  background-size: 0 100%;\n  background-repeat: no-repeat;\n  text-decoration: none;\n  -webkit-transition: background-size .8s ease;\n  transition: background-size .8s ease;\n  background-image: -webkit-gradient(linear,left top,left bottom,color-stop(99%,transparent),color-stop(1%,${p => p.theme.colors.primary}));\n  background-image: linear-gradient(180deg,transparent 99%,${p => p.theme.colors.primary} 0);\n\n  ${mediaqueries.desktop`\n    margin-bottom: 15px;\n  `}\n\n  ${mediaqueries.tablet`\n    font-size: 24px;\n  `}\n\n  ${mediaqueries.phablet`\n    font-size: 22px;\n    padding: 0;\n    margin-bottom: 10px;\n    -webkit-line-clamp: 3;\n  `}\n`;\n\nconst Excerpt = styled.p<{ narrow: boolean; hasOverflow: boolean }>`\n  ${limitToTwoLines};\n  font-size: 16px;\n  margin-bottom: 10px;\n  color: ${p => p.theme.colors.grey};\n  display: ${p => (p.hasOverflow ? \"none\" : \"box\")};\n  max-width: ${p => (p.narrow ? \"415px\" : \"515px\")};\n\n  ${mediaqueries.desktop`\n    display: -webkit-box;\n  `}\n\n  ${mediaqueries.tablet`\n    margin-bottom: 15px;\n  `}\n\n  ${mediaqueries.phablet`\n    max-width: 100%;\n    padding:  0 20px;\n    margin-bottom: 20px;\n    -webkit-line-clamp: 3;\n  `}\n`;\n\n\nconst ProjectContent = styled.div<{\n  gridLayout: string;\n}>`\n  padding: 30px;\n  background: ${p => p.theme.colors.card};\n  //margin:  ${p => (p.gridLayout === 'tiles' ? '-150px 30px 20px 30px' : '110px 0 -30px -100px')};\n  z-index: 600;\n  display: block;\n  position: relative;\n\n  ${mediaqueries.tablet`\n    margin: 0 auto;\n    width: 100%;\n  `}\n`;\n\nconst MetaData = styled.div<{\n  gridLayout: string;\n}>`\n  font-weight: 400;\n  font-size: 16px;\n  color: ${p => p.theme.colors.lightGrey};\n  margin-top: ${p => (p.gridLayout === 'tiles' ? '20px' : '10px')};;\n  //opacity: 0.5;\n  //font-style: italic;\n\n  ${mediaqueries.phablet`\n    max-width: 100%;\n    padding: 0;\n  `}\n`;\n\nconst ProjectTaxonomy = styled.div<{\n  gridLayout: string;\n}>`\n  font-weight: 600;\n  font-size: 12px;\n  font-family: ${p => p.theme.fonts.sansSerif};\n  color: ${p => p.theme.colors.primary};\n  text-transform: uppercase;\n  opacity: 0.8;\n  letter-spacing: 2px;\n  margin-bottom: ${p => (p.gridLayout === 'tiles' ? '20px' : '10px')};\n  text-overflow: ellipsis;\n  overflow-wrap: normal;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  display: -webkit-box;\n  white-space: normal;\n  overflow: hidden;\n\n  .Project__Categories{\n    margin-right: 5px;\n    color: ${p => p.theme.colors.lightGrey};\n    margin-left: 1px;\n  }\n  .Project__Works{\n  }\n\n  ${mediaqueries.phablet`\n    max-width: 100%;\n    padding: 0;\n  `}\n`;\n\nconst ProjectLink = styled(Link)`\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  transition: transform 0.33s var(--ease-out-quart);\n  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n  //border-bottom: 5px solid ${p => p.theme.colors.primary};\n\n  &:hover ${ImageContainer} > div, &:focus ${ImageContainer} > div{\n    //transform: translateY(-1px);\n    //box-shadow: 0 50px 80px -20px rgba(0, 0, 0, 0.27),\n      0 30px 50px -30px rgba(0, 0, 0, 0.3);\n    transform: scale(1.1);\n  }\n\n  &:hover h2,\n  &:focus h2 {\n    //color: ${p => p.theme.colors.accent};\n    background-size: 100% 100%;\n    cursor: pointer;\n  }\n\n  &[data-a11y='true']:focus::after {\n    content: '';\n    position: absolute;\n    left: -1.5%;\n    top: -2%;\n    width: 103%;\n    height: 104%;\n    border: 3px solid ${p => p.theme.colors.accent};\n    background: rgba(255, 255, 255, 0.01);\n    //border-radius: 5px;\n  }\n\n  ${mediaqueries.tablet`\n    &:first-child{\n      margin-bottom: 40px;\n    }\n  `}\n\n  ${mediaqueries.phablet`\n\n    &:hover ${ImageContainer} {\n      transform: none;\n      //box-shadow: initial;\n    }\n\n    &:active {\n      transform: scale(0.97) translateY(3px);\n    }\n  `}\n`;\n","import React from 'react';\n\nimport SEO from '@components/SEO';\n\nimport { IProject, IWork } from '@types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nconst siteQuery = graphql`\n  {\n    allSite {\n      edges {\n        node {\n          siteMetadata {\n            name\n            siteUrl\n          }\n        }\n      }\n    }\n  }\n`;\n\ninterface ProjectSEOProps {\n  project: IProject;\n  works: IWork[];\n  location: Location;\n  imagelocation?: string;\n}\n\nconst ProjectSEO: React.FC<ProjectSEOProps> = ({\n  project,\n  works,\n  location,\n  imagelocation,\n}) => {\n  const results = useStaticQuery(siteQuery);\n  const siteUrl = results.allSite.edges[0].node.siteMetadata.siteUrl;\n\n  const worksName = works.map(work => (work.name));\n  const worksSlug = works.map(work => (work.slug));\n  const worksBio = works.map(work => (work.bio));\n\n  // Checks if the source of the image is hosted on Contentful\n  if (`${project.hero.seo.src}`.includes('ctfassets')) {\n    imagelocation = `https:${project.hero.seo.src}`;\n  } else {\n    imagelocation = `${siteUrl + project.hero.seo.src}`;\n  }\n\n  return (\n    <SEO\n      workName={worksName}\n      worksBio={worksBio}\n      worksSlug={worksSlug}\n      canonicalUrl={project.canonical_url}\n      dateforSEO={project.dateForSEO}\n      description={project.excerpt}\n      image={imagelocation}\n      isBlogPost={true}\n      projectpathName={siteUrl + location.pathname}\n      published={project.date}\n      timeToRead={project.timeToRead}\n      title={project.title}\n      isSecret={project.secret}\n    >\n    </SEO>\n  );\n};\n\nexport default ProjectSEO;\n","import React, { useState, useEffect } from 'react';\nimport styled from '@emotion/styled';\nimport { keyframes } from '@emotion/core';\nimport { useColorMode } from 'theme-ui';\n\nimport Icons from '@icons';\n\nimport {\n  getHighlightedTextPositioning,\n  getSelectionDimensions,\n  getSelectionText,\n  getWindowDimensions,\n  getBreakpointFromTheme,\n} from '@utils';\n\ninterface MenuFloatState {\n  x: number;\n  y: number;\n  show: boolean;\n}\n\n/**\n * Values we get to be able to ensure the positionting context are correct!\n * Padding is derviced from the CSS value in Editor\n */\nconst MENU_WIDTH: number = 225;\nconst MENU_HEIGHT: number = 46;\n\nconst ProjectShare: React.FC<{}> = () => {\n  const [colorMode] = useColorMode();\n  const [text, setText] = useState('');\n  const [focus, setFocus] = useState(false);\n  const [canTweet, setCanTweet] = useState(true);\n  const [{ x, y, show }, setPosition] = useState<MenuFloatState>({\n    x: 0,\n    y: 0,\n    show: false,\n  });\n\n  const share = generateShare(text);\n  const isDark = colorMode === 'dark';\n\n  useEffect(() => {\n    const events: string[] = ['keydown', 'keyup', 'mouseup', 'resize'];\n\n    function handleMenuFloatSettings() {\n      /**\n       * Why is there a setTimeout here?\n       * There is an issue with clicking on highlited text and the browsers ability\n       * to calcualte the correct ranges. If you highlight text, then click on it,\n       * the window.selection values will give the previous ranges instead of the current!\n       */\n      setTimeout(() => {\n        const project = document.getElementsByTagName('project')[0];\n        const paragraphOffset = document.getElementsByTagName('p')[0]\n          .offsetLeft;\n\n        if (!project) return;\n\n        // We want to not show the menu float in code blocks\n        const codeBlocks = Array.from(\n          project.getElementsByClassName('prism-code'),\n        );\n        const isHighlightedInCodeBlock = codeBlocks.some(block =>\n          window.getSelection().containsNode(block, true),\n        );\n\n        if (isHighlightedInCodeBlock) return;\n\n        const projectBox = project.getBoundingClientRect() as DOMRect;\n\n        const { width, height } = getSelectionDimensions();\n        const { x, y } = getHighlightedTextPositioning();\n        const { width: windowWidth } = getWindowDimensions();\n        const tablet = getBreakpointFromTheme('tablet');\n        const desktop = getBreakpointFromTheme('desktop');\n\n        /**\n         * Because the project is offset to the side to compensate for the progress bar\n         * we need to calculate the offset of the menu share in the same way.\n         */\n        let paddingOffset = 0;\n\n        if (windowWidth > tablet) {\n          paddingOffset = 53;\n        }\n\n        if (windowWidth > desktop) {\n          paddingOffset = 68;\n        }\n\n        /**\n         * Get the X and Y offsets of the editors Left and Top positions\n         * If the height is great than 20 (the user has highlighted more than 2 rows of text)\n         * then start the position from the left most edge so we can center the bar in\n         * the middle of the text area\n         */\n        const offset: { x: number; y: number } = {\n          x: height > 29 ? paragraphOffset + paddingOffset : x,\n          y: y - projectBox.y - 160,\n        };\n\n        setPosition({\n          x: offset.x + width / 2 - MENU_WIDTH / 2 - paddingOffset,\n          y: offset.y - MENU_HEIGHT - 5,\n          show: width > 1,\n        });\n\n        setText(getSelectionText());\n      }, 0);\n    }\n\n    // attach all events\n    events.forEach(event =>\n      window.addEventListener(event, handleMenuFloatSettings),\n    );\n\n    return () => {\n      // remove all events after mount\n      events.forEach(event =>\n        window.removeEventListener(event, handleMenuFloatSettings),\n      );\n    };\n  }, [show]);\n\n  /**\n   * Small workaround to set the focus once the x and y positiosn are set.\n   * If this is not here the user would see a quick flash of the floating bar\n   * in its old position and then animating to the new location. We don't want that.\n   */\n  useEffect(() => {\n    setTimeout(() => {\n      const { width } = getSelectionDimensions();\n      setFocus(width > 1);\n    }, 0);\n  }, [show]);\n\n  function handleCopyClick() {\n    const tempInput = document.createElement('input');\n    document.body.appendChild(tempInput);\n    tempInput.setAttribute('value', text);\n    tempInput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempInput);\n  }\n\n  /**\n   * Setting the ability to tweet. If the user highlights more than the allowed\n   * characters we need to give them feedback that it's too long to tweet.\n   */\n  useEffect(() => {\n    const tweetLimit = 280;\n    const otherCharactersInTweet = '\"\"  '; // 2 quotes, 1 emdash, 2 spaces\n    const url = window.location.href;\n    const tweet = text + url + otherCharactersInTweet;\n\n    setCanTweet(tweet.length <= tweetLimit);\n  }, [text]);\n\n  return (\n    <MenuFloat\n      style={{\n        position: 'absolute',\n        left: `${x}px`,\n        top: `${y}px`,\n        display: show && focus ? 'flex' : 'none',\n        pointerEvents: show && focus ? 'initial' : 'none',\n      }}\n      isDark={isDark}\n    >\n      <MenuText>Share: </MenuText>\n      <ReferralLink disabled={!canTweet} share={share.twitter}>\n        <Icons.Twitter width=\"18px\" height=\"15px\" />\n      </ReferralLink>\n      <ReferralLink disabled={false} share={share.linkedin}>\n        <Icons.LinkedIn width=\"16px\" height=\"16px\" />\n      </ReferralLink>\n      <MenuDivider />\n      <MenuButton onClick={handleCopyClick} aria-label=\"Copy selected text\">\n        <Icons.Copy />\n      </MenuButton>\n    </MenuFloat>\n  );\n};\n\nexport default ProjectShare;\n\nfunction ReferralLink({ disabled, share, children }) {\n  function handleClick(event) {\n    event.preventDefault();\n    if (disabled) return;\n\n    window.open(\n      share,\n      '',\n      'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600',\n    );\n  }\n\n  return (\n    <MenuShare\n      href={disabled ? '' : share}\n      onClick={handleClick}\n      disabled={disabled}\n    >\n      <Hidden>Share the selected text</Hidden>\n      {children}\n    </MenuShare>\n  );\n}\n\nfunction generateShare(shareText: string) {\n  if (!shareText) return {};\n  const url = window.location.href;\n\n  return {\n    twitter: `https://twitter.com/intent/tweet?text=\"${shareText}\"  ${url}`,\n    linkedin: `http://www.linkedin.com/shareProject?mini=true&url=${url}&summary=${shareText}&title=${shareText}`,\n  };\n}\n\nconst popUpwards = keyframes`\n  0% {\n    transform:matrix(.97,0,0,1,0,12);\n    opacity:0\n  }\n  20% {\n    transform:matrix(.99,0,0,1,0,2);\n    opacity:.7\n  }\n  40% {\n    transform:matrix(1,0,0,1,0,-1);\n    opacity:1\n  }\n  70% {\n    transform:matrix(1,0,0,1,0,0);\n    opacity:1\n  }\n  100% {\n    transform:matrix(1,0,0,1,0,0);\n    opacity:1\n  }\n`;\n\nconst MenuFloat = styled.div<{ isDark: boolean }>`\n  position: absolute;\n  align-items: center;\n  z-index: 1;\n  width: ${MENU_WIDTH}px;\n  height: ${MENU_HEIGHT}px;\n  padding: 7px 11px 7px 19px;\n  color: ${p => p.theme.colors.grey};\n  background: ${p => (p.isDark ? '#fafafa' : '#000')};\n  border-radius: 5px;\n  font-size: 18px;\n  font-weight: 600;\n  transition: left 75ms ease-out, right 75ms ease-out, background 200ms;\n  animation: ${popUpwards} 200ms forwards;\n\n  &::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n    bottom: -8px;\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-top: 8px solid ${p => (p.isDark ? '#fafafa' : '#000')};\n    transition: border-color 200ms;\n  }\n\n  svg {\n    path {\n      fill: ${p => (p.isDark ? '#000' : '#fff')};\n    }\n  }\n`;\n\nconst MenuText = styled.span`\n  margin-right: 8px;\n`;\n\nconst Hidden = styled.div`\n  width: 0px;\n  height: 0px;\n  visibility: hidden;\n  opacity: 0;\n`;\n\nconst MenuShare = styled.a<{ disabled: boolean }>`\n  display: flex;\n  align-items: center;\n  padding: 16px 11px;\n  cursor: ${p => (p.disabled ? 'not-allowed' : 'pointer')};\n\n  svg {\n    path {\n      fill: ${p => (p.disabled ? '#F89797' : '')};\n    }\n  }\n`;\n\nconst MenuButton = styled.button`\n  display: inline-block;\n  padding: 16px 11px;\n`;\n\nconst MenuDivider = styled.div`\n  display: inline-block;\n  height: 17px;\n  width: 1px;\n  position: relative;\n  margin: 0 8px;\n  background: rgba(115, 115, 125, 0.3);\n`;\n","import React, { useRef, useState, useEffect } from 'react';\nimport styled from '@emotion/styled';\nimport throttle from 'lodash/throttle';\nimport { graphql, useStaticQuery } from 'gatsby';\nimport { Disqus, CommentCount } from 'gatsby-plugin-disqus';\n\nimport Layout from '@components/Layout';\nimport MDXRenderer from '@components/MDX';\nimport Progress from '@components/Progress';\nimport Section from '@components/Section';\nimport Subscription from '@components/Subscription';\n\nimport mediaqueries from '@styles/media';\nimport { debounce } from '@utils';\n\nimport ProjectAside from '../sections/project/Project.Aside';\nimport ProjectHero from '../sections/project/Project.Hero';\nimport ProjectControls from '../sections/project/Project.Controls';\nimport ProjectsNext from '../sections/project/Project.Next';\nimport ProjectSEO from '../sections/project/Project.SEO';\nimport ProjectShare from '../sections/project/Project.Share';\n\nimport { Template } from \"@types\";\n\nconst siteQuery = graphql`\n  {\n    allSite {\n      edges {\n        node {\n          siteMetadata {\n            name\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst Project: Template = ({ pageContext, location }) => {\n  const contentSectionRef = useRef<HTMLElement>(null);\n\n  const [hasCalculated, setHasCalculated] = useState<boolean>(false);\n  const [contentHeight, setContentHeight] = useState<number>(0);\n\n  const results = useStaticQuery(siteQuery);\n  const name = results.allSite.edges[0].node.siteMetadata.name;\n\n  const { project, works, mailchimp, next, categories } = pageContext;\n\n  let disqusConfig = {\n    url: `${'https://gianfaye.com'+location.pathname}`,\n    identifier: project.id,\n    title: project.title,\n  };\n\n  useEffect(() => {\n    const calculateBodySize = throttle(() => {\n      const contentSection = contentSectionRef.current;\n\n      if (!contentSection) return;\n\n      /**\n       * If we haven't checked the content's height before,\n       * we want to add listeners to the content area's\n       * imagery to recheck when it's loaded\n       */\n      if (!hasCalculated) {\n        const debouncedCalculation = debounce(calculateBodySize);\n        const $imgs = contentSection.querySelectorAll('img');\n\n        $imgs.forEach($img => {\n          // If the image hasn't finished loading then add a listener\n          if (!$img.complete) $img.onload = debouncedCalculation;\n        });\n\n        // Prevent rerun of the listener attachment\n        setHasCalculated(true);\n      }\n\n      // Set the height and offset of the content area\n      setContentHeight(contentSection.getBoundingClientRect().height);\n    }, 20);\n\n    calculateBodySize();\n    window.addEventListener('resize', calculateBodySize);\n\n    return () => window.removeEventListener('resize', calculateBodySize);\n  }, []);\n\n  return (\n    <Layout>\n      <ProjectSEO project={project} works={works} location={location} />\n      <ProjectHero\n        project={project}\n        works={works}\n        categories={categories}\n      />\n      <ProjectAside contentHeight={contentHeight}>\n        {/*<Progress contentHeight={contentHeight} />*/}\n      </ProjectAside>\n      <MobileControls>\n        <ProjectControls />\n      </MobileControls>\n      <ProjectBody ref={contentSectionRef}>\n        <MDXRenderer content={project.body}>\n          <ProjectShare />\n        </MDXRenderer>\n      </ProjectBody>\n      <CommentsContainer>\n        <CommentCount config={disqusConfig} placeholder={''} />\n        <Disqus config={disqusConfig} />\n      </CommentsContainer>\n      {/*{mailchimp && project.subscription && <Subscription />}*/}\n      {next.length > 0 && (\n        <NextProject narrow>\n          <FooterNext>Explore more projects</FooterNext>\n          <ProjectsNext projects={next} />\n          <FooterSpacer />\n        </NextProject>\n      )}\n    </Layout>\n  );\n};\n\nexport default Project;\n\nconst MobileControls = styled.div`\n  position: relative;\n  padding-top: 40px;\n  transition: background 0.2s linear;\n  text-align: center;\n\n  ${mediaqueries.tablet_up`\n    display: none;\n  `}\n`;\n\nconst CommentsContainer = styled.div`\n  position: relative;\n  margin: 0 auto;\n  max-width: 700px;\n  margin-bottom: 100px;\n\n  ${mediaqueries.desktop_medium`\n    max-width: 507px;\n    padding: 0 40px;\n  `}\n`;\n\nconst ProjectBody = styled.article`\n  position: relative;\n  //padding: 160px 0 35px 0;\n  padding: 80px 0 35px 0;\n  transition: background 0.2s linear;\n\n  ${mediaqueries.desktop`\n    padding-left: 0;\n  `}\n\n  ${mediaqueries.tablet`\n    padding: 70px 0 80px;\n    margin: 0 40px;\n  `}\n\n  ${mediaqueries.phablet`\n    padding: 60px 0;\n    margin: 0 40px;\n  `}\n`;\n\nconst NextProject = styled(Section)`\n  display: block;\n`;\n\nconst FooterNext = styled.h3`\n  position: relative;\n  opacity: 0.25;\n  margin-bottom: 50px;\n  font-weight: 400;\n  color: ${p => p.theme.colors.primary};\n\n  ${mediaqueries.tablet`\n    margin-bottom: 60px;\n  `}\n\n  &::after {\n    content: '';\n    position: absolute;\n    background: ${p => p.theme.colors.grey};\n    width: ${(980 / 1140) * 100}%;\n    height: 1px;\n    right: 0;\n    top: 11px;\n\n    ${mediaqueries.tablet`\n      width: ${(600 / 1140) * 100}%;\n    `}\n  }\n`;\n\nconst FooterSpacer = styled.div`\n  margin-bottom: 65px;\n`;\n"],"sourceRoot":""}